(()=>{"use strict";const e=()=>{let e=localStorage.getItem("myProject");return e?JSON.parse(e):[]},t=(e,t)=>{let o,r=JSON.parse(localStorage.getItem("myProject"));r.map(((c,n)=>{c.name==t.name&&e.name==t.name?(r.splice(n,1),o=JSON.stringify(r),localStorage.setItem("myProject",o)):c.name==t.name&&(r.splice(n,1,e),o=JSON.stringify(r),localStorage.setItem("myProject",o))}))},o=e=>{localStorage.setItem("currentProject",JSON.stringify(e))},r=()=>{let e=localStorage.getItem("currentProject");return e?JSON.parse(e):null},c=document.getElementsByClassName("modal"),n=document.querySelector(".project"),l=document.querySelector(".toggle-project"),a=document.querySelectorAll(".toggle-icons"),s=document.getElementById("add-project"),d=document.querySelector(".new-project-form-modal"),m=document.querySelector(".new-project-form"),i=document.getElementsByClassName("cancel"),u=document.querySelector(".project-list"),g=document.querySelector(".project-body"),p=document.querySelector(".project-name"),y=document.querySelector(".todo-list");l.onclick=()=>{n.classList.toggle("active"),a.forEach((e=>e.classList.toggle("hidden")))},s.onclick=()=>{d.classList.toggle("hidden")},m.addEventListener("submit",(t=>{let r={name:t.target.elements.name.value,todo:[]};(t=>{let o=e();o.push(t),localStorage.setItem("myProject",JSON.stringify(o))})(r),o(r)})),Array.from(i).forEach((e=>{let t=e.closest("section");e.onclick=()=>{t.classList.toggle("hidden")}})),window.addEventListener("click",(e=>{e.target.className.split(" ").some((e=>"modal"==e))&&Array.from(c).forEach((e=>{e.classList.add("hidden")}))})),e().map((e=>{let t=document.createElement("li");t.innerHTML=e.name,t.classList.add("list-item"),u.appendChild(t)})),(()=>{let t=document.getElementsByClassName("list-item");Array.from(t).forEach((t=>{t.addEventListener("click",(()=>{let n=(t=>e().find((e=>e.name==t)))(t.textContent);o(n),r(n),c(n),g.classList.remove("hidden")}))}));let r=e=>{p.innerHTML=e.name},c=e=>{let t=(e=>{let t=[];return e.todo.forEach((e=>{let o=`\n    <tr class='${e.checked?"complete":e.priority}'>\n      <td>${e.title}</td>\n      <td>${e.due}</td>\n      <td>${e.priority}</td>\n      <td>\n        <button class='progress'>\n          ${e.checked?"<span class='material-icons'>task_alt</span>":"<span class='material-icons'>remove_circle_outline</span>"}\n        </button>\n      </td>\n      <td><button class='edit-todo'><span class="material-icons">zoom_in</span></button></td>\n      <td><button class='delete-todo'><span class="material-icons">delete_forever</span></button></td>\n    </tr>`;t.push(o)})),t})(e);t&&(y.innerHTML=t.map((e=>e)).join(""))}})();const S=document.querySelector(".project-body"),j=document.querySelector(".project-name"),f=document.querySelector(".edit-project-form-modal"),h=document.querySelector(".edit-project-form"),L=document.querySelector(".edit-project"),q=document.querySelector(".delete-project"),E=document.querySelector(".new-todo-form-modal"),v=(document.querySelector(".new-todo-form"),document.querySelector(".new-todo"));0==e().length&&S.classList.add("hidden"),(()=>{let e=r();e&&(j.innerHTML=e.name,S.classList.remove("hidden"))})(),L.onclick=()=>{f.classList.toggle("hidden")},h.addEventListener("submit",(e=>{let c=r(),n=r();n.name=e.target.elements.name.value,o(n),t(n,c)})),q.addEventListener("click",(e=>{if(!confirm("Delete this project?"))return;let o=r(),c=r();localStorage.removeItem("currentProject"),t(c,o),location.reload()})),v.onclick=()=>{E.classList.toggle("hidden")}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvc2lkZWJhci5qcyIsIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvdG9kby5qcyIsIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvYm9keS5qcyJdLCJuYW1lcyI6WyJnZXRBbGxQcm9qZWN0cyIsInByb2plY3RMUyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJ1cGRhdGVQcm9qZWN0U3RvcmFnZSIsIm5ld1Byb2plY3QiLCJvbGRQcm9qZWN0IiwidGVtcFN0b3JhZ2UiLCJwcm9qZWN0U3RvcmFnZSIsIm1hcCIsInByb2plY3QiLCJpbmRleCIsIm5hbWUiLCJzcGxpY2UiLCJzdHJpbmdpZnkiLCJzZXRJdGVtIiwic3luY1Byb2plY3QiLCJnZXRDdXJyZW50UHJvamVjdCIsImN1cnJlbnRQcm9qZWN0TFMiLCJtb2RhbFNlY3Rpb25zIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwic2lkZWJhciIsInF1ZXJ5U2VsZWN0b3IiLCJ0b2dnbGVCdG4iLCJ0b2dnbGVJY29ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRQcm9qZWN0QnRuIiwiZ2V0RWxlbWVudEJ5SWQiLCJuZXdQcm9qZWN0TW9kYWwiLCJuZXdQcm9qZWN0Rm9ybSIsImNhbmNlbEJ0bnMiLCJwcm9qZWN0TGlzdCIsInByb2plY3RCb2R5IiwicHJvamVjdE5hbWUiLCJ0b2RvTGlzdCIsIm9uY2xpY2siLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJmb3JFYWNoIiwiaWNvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0IiwiZWxlbWVudHMiLCJ2YWx1ZSIsInRvZG8iLCJhbGxQcm9qZWN0cyIsInB1c2giLCJzdG9yZVByb2plY3QiLCJBcnJheSIsImZyb20iLCJidXR0b24iLCJtb2RhbCIsImNsb3Nlc3QiLCJ3aW5kb3ciLCJjbGFzc05hbWUiLCJzcGxpdCIsInNvbWUiLCJvbmVjbGFzcyIsInNlY3Rpb24iLCJhZGQiLCJuZXdMaW5lIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwicHJvamVjdHMiLCJsaXN0SXRlbSIsImZpbmQiLCJzdG9yZWRQcm9qZWN0IiwiZmluZFByb2plY3QiLCJ0ZXh0Q29udGVudCIsInNob3dQcm9qZWN0TmFtZSIsInNob3dUb2RvcyIsInJlbW92ZSIsInRvZG9JdGVtcyIsInRhYmxlUm93cyIsInJvd0h0bWwiLCJjaGVja2VkIiwicHJpb3JpdHkiLCJ0aXRsZSIsImR1ZSIsImdldFRvZG9Db250ZW50IiwidGFibGVSb3ciLCJqb2luIiwiZWRpdFByb2plY3RNb2RhbCIsImVkaXRQcm9qZWN0Rm9ybSIsImVkaXRQcm9qZWN0QnRuIiwiZGVsUHJvamVjdEJ0biIsIm5ld1RvZG9Nb2RhbCIsIm5ld1RvZG9CdG4iLCJsZW5ndGgiLCJjdXJyZW50UHJvamVjdCIsImNvbmZpcm0iLCJyZW1vdmVJdGVtIiwibG9jYXRpb24iLCJyZWxvYWQiXSwibWFwcGluZ3MiOiJtQkFDQSxNQWdCTUEsRUFBaUIsS0FDckIsSUFBSUMsRUFBWUMsYUFBYUMsUUFBUSxhQUNyQyxPQUFHRixFQUNpQkcsS0FBS0MsTUFBTUosR0FHdEIsSUFZTEssRUFBdUIsQ0FBQ0MsRUFBWUMsS0FDeEMsSUFDSUMsRUFEQUMsRUFBaUJOLEtBQUtDLE1BQU1ILGFBQWFDLFFBQVEsY0FHckRPLEVBQWVDLEtBQUksQ0FBQ0MsRUFBU0MsS0FDdkJELEVBQVFFLE1BQVFOLEVBQVdNLE1BQVFQLEVBQVdPLE1BQVFOLEVBQVdNLE1BRW5FSixFQUFlSyxPQUFPRixFQUFPLEdBQzdCSixFQUFjTCxLQUFLWSxVQUFVTixHQUM3QlIsYUFBYWUsUUFBUSxZQUFhUixJQUN6QkcsRUFBUUUsTUFBUU4sRUFBV00sT0FFcENKLEVBQWVLLE9BQU9GLEVBQU8sRUFBR04sR0FDaENFLEVBQWNMLEtBQUtZLFVBQVVOLEdBQzdCUixhQUFh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RXJCLE1BQU0sRUFBY2hFLFNBQVNHLGNBQWMsaUJBQ3JDLEVBQWNILFNBQVNHLGNBQWMsaUJBQ3JDOEQsRUFBbUJqRSxTQUFTRyxjQUFjLDRCQUMxQytELEVBQWtCbEUsU0FBU0csY0FBYyxzQkFDekNnRSxFQUFpQm5FLFNBQVNHLGNBQWMsaUJBQ3hDaUUsRUFBZ0JwRSxTQUFTRyxjQUFjLG1CQUN2Q2tFLEVBQWVyRSxTQUFTRyxjQUFjLHdCQUV0Q21FLEdBRGlCdEUsU0FBU0csY0FBYyxrQkFDM0JILFNBQVNHLGNBQWMsY0FLZCxHQURSekIsSUFDRjZGLFFBQ2QsRUFBWXRELFVBQVV3QixJQUFJLFVBS1QsTUFDbkIsSUFBSStCLEVBQWlCM0UsSUFDakIyRSxJQUNGLEVBQVk1QixVQUFZNEIsRUFBZWhGLEtBQ3ZDLEVBQVl5QixVQUFVcUMsT0FBTyxZQUpaLEdBVW5CYSxFQUFlbkQsUUFBVSxLQUN2QmlELEVBQWlCaEQsVUFBVUMsT0FBTyxXQU1wQ2dELEVBQWdCN0MsaUJBQWlCLFVId0NWQyxJQUN2QixJQUFJcEMsRUFBYVcsSUFDYlosRUFBYVksSUFDakJaLEVBQVdPLEtBQU84QixFQUFFQyxPQUFPQyxTQUFTaEMsS0FBS2lDLE1BQ3pDN0IsRUFBWVgsR0FDWkQsRUFBcUJDLEVBQVlDLE1HeENqQ2tGLEVBQWMvQyxpQkFBaUIsU0g0Q05DLElBRXpCLElBRG1CbUQsUUFBUSx3QkFDUixPQUVuQixJQUFJdkYsRUFBYVcsSUFDYlosRUFBYVksSUFDakJqQixhQUFhOEYsV0FBVyxrQkFDeEIxRixFQUFxQkMsRUFBWUMsR0FDakN5RixTQUFTQyxZRy9DVE4sRUFBV3RELFFBQVUsS0FDbkJxRCxFQUFhcEQsVUFBVUMsT0FBTyxZIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBQcm9qZWN0IGZhY3RvcnlcbmNvbnN0IFByb2plY3QgPSAobmFtZSkgPT4ge1xuICBsZXQgdG9kbyA9IFtdXG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICB0b2RvXG4gIH1cbn1cblxuLy8gU3RvcmUgbmV3IHByb2plY3RcbmNvbnN0IHN0b3JlUHJvamVjdCA9IChuZXdQcm9qZWN0KSA9PiB7XG4gIGxldCBhbGxQcm9qZWN0cyA9IGdldEFsbFByb2plY3RzKClcbiAgYWxsUHJvamVjdHMucHVzaChuZXdQcm9qZWN0KVxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm15UHJvamVjdFwiLCBKU09OLnN0cmluZ2lmeShhbGxQcm9qZWN0cykpXG59XG5cbi8vIEdldCBzdG9yZWQgcHJvamVjdHNcbmNvbnN0IGdldEFsbFByb2plY3RzID0gKCkgPT4ge1xuICBsZXQgcHJvamVjdExTID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJteVByb2plY3RcIilcbiAgaWYocHJvamVjdExTKSB7XG4gICAgbGV0IGFsbFByb2plY3RzID0gSlNPTi5wYXJzZShwcm9qZWN0TFMpXG4gICAgcmV0dXJuIGFsbFByb2plY3RzXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cbn1cblxuLy8gRmluZCBhIHByb2plY3RcbmNvbnN0IGZpbmRQcm9qZWN0ID0gKHByb2plY3ROYW1lKSA9PiB7XG4gIGxldCBhbGxQcm9qZWN0cyA9IGdldEFsbFByb2plY3RzKClcbiAgbGV0IHRoYXRQcm9qZWN0ID0gYWxsUHJvamVjdHMuZmluZCggc3RvcmVkUHJvamVjdCA9PiBzdG9yZWRQcm9qZWN0Lm5hbWUgPT0gcHJvamVjdE5hbWUpXG4gIHJldHVybiB0aGF0UHJvamVjdFxufVxuXG4vLyBVcGRhdGUgcHJvamVjdCBzdG9yYWdlXG5jb25zdCB1cGRhdGVQcm9qZWN0U3RvcmFnZSA9IChuZXdQcm9qZWN0LCBvbGRQcm9qZWN0KSA9PiB7XG4gIGxldCBwcm9qZWN0U3RvcmFnZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJteVByb2plY3RcIikpXG4gIGxldCB0ZW1wU3RvcmFnZVxuXG4gIHByb2plY3RTdG9yYWdlLm1hcCgocHJvamVjdCwgaW5kZXgpID0+IHtcbiAgICBpZiAocHJvamVjdC5uYW1lID09IG9sZFByb2plY3QubmFtZSAmJiBuZXdQcm9qZWN0Lm5hbWUgPT0gb2xkUHJvamVjdC5uYW1lKSB7XG4gICAgICAvLyBEZWxldGVcbiAgICAgIHByb2plY3RTdG9yYWdlLnNwbGljZShpbmRleCwgMSlcbiAgICAgIHRlbXBTdG9yYWdlID0gSlNPTi5zdHJpbmdpZnkocHJvamVjdFN0b3JhZ2UpXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm15UHJvamVjdFwiLCB0ZW1wU3RvcmFnZSlcbiAgICB9IGVsc2UgaWYgKHByb2plY3QubmFtZSA9PSBvbGRQcm9qZWN0Lm5hbWUpIHtcbiAgICAgIC8vIEFkZFxuICAgICAgcHJvamVjdFN0b3JhZ2Uuc3BsaWNlKGluZGV4LCAxLCBuZXdQcm9qZWN0KVxuICAgICAgdGVtcFN0b3JhZ2UgPSBKU09OLnN0cmluZ2lmeShwcm9qZWN0U3RvcmFnZSlcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibXlQcm9qZWN0XCIsIHRlbXBTdG9yYWdlKVxuICAgIH0gXG4gIH0pXG59XG5cbi8vIFN5bmNocm9uaXplIGN1cnJlbnQgcHJvamVjdFxuY29uc3Qgc3luY1Byb2plY3QgPSAocHJvamVjdCkgPT4ge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnRQcm9qZWN0XCIsSlNPTi5zdHJpbmdpZnkocHJvamVjdCkpXG59XG5cbi8vIEdldCBjdXJyZW50IHByb2plY3RcbmNvbnN0IGdldEN1cnJlbnRQcm9qZWN0ID0gKCkgPT4ge1xuICBsZXQgY3VycmVudFByb2plY3RMUyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3VycmVudFByb2plY3RcIilcbiAgaWYgKGN1cnJlbnRQcm9qZWN0TFMpIHtcbiAgICBsZXQgY3VycmVudFByb2plY3QgPSBKU09OLnBhcnNlKGN1cnJlbnRQcm9qZWN0TFMpXG4gICAgcmV0dXJuIGN1cnJlbnRQcm9qZWN0XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG4vLyBDcmVhdGUgbmV3IHByb2plY3RcbmNvbnN0IGNyZWF0ZU5ld1Byb2plY3QgPSAoZSkgPT4ge1xuICBsZXQgcHJvamVjdE5hbWUgPSBlLnRhcmdldC5lbGVtZW50cy5uYW1lLnZhbHVlXG4gIGxldCBuZXdQcm9qZWN0ID0gUHJvamVjdChwcm9qZWN0TmFtZSlcbiAgc3RvcmVQcm9qZWN0KG5ld1Byb2plY3QpICBcbiAgc3luY1Byb2plY3QobmV3UHJvamVjdClcbn1cblxuLy8gRWRpdCBwcm9qZWN0IG5hbWVcbmNvbnN0IGVkaXRUaGlzUHJvamVjdCA9IChlKSA9PiB7XG4gIGxldCBvbGRQcm9qZWN0ID0gZ2V0Q3VycmVudFByb2plY3QoKVxuICBsZXQgbmV3UHJvamVjdCA9IGdldEN1cnJlbnRQcm9qZWN0KClcbiAgbmV3UHJvamVjdC5uYW1lID0gZS50YXJnZXQuZWxlbWVudHMubmFtZS52YWx1ZVxuICBzeW5jUHJvamVjdChuZXdQcm9qZWN0KVxuICB1cGRhdGVQcm9qZWN0U3RvcmFnZShuZXdQcm9qZWN0LCBvbGRQcm9qZWN0KVxufVxuXG4vLyBEZWxldGUgcHJvamVjdFxuY29uc3QgZGVsZXRlVGhpc1Byb2plY3QgPSAoZSkgPT4ge1xuICBsZXQgY29uZmlybWF0aW9uID0gY29uZmlybShcIkRlbGV0ZSB0aGlzIHByb2plY3Q/XCIpXG4gIGlmICghY29uZmlybWF0aW9uKSByZXR1cm5cblxuICBsZXQgb2xkUHJvamVjdCA9IGdldEN1cnJlbnRQcm9qZWN0KClcbiAgbGV0IG5ld1Byb2plY3QgPSBnZXRDdXJyZW50UHJvamVjdCgpXG4gIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiY3VycmVudFByb2plY3RcIilcbiAgdXBkYXRlUHJvamVjdFN0b3JhZ2UobmV3UHJvamVjdCwgb2xkUHJvamVjdClcbiAgbG9jYXRpb24ucmVsb2FkKClcbn1cblxuLy8gVXBkYXRlIHByb2plY3QgY3VycmVudFByb2plY3QudXBkYXRlIHRoaXMubmFtZVxuXG5cbmV4cG9ydCB7XG4gIFByb2plY3QsXG4gIHN0b3JlUHJvamVjdCxcbiAgZ2V0QWxsUHJvamVjdHMsXG4gIGZpbmRQcm9qZWN0LFxuICBzeW5jUHJvamVjdCxcbiAgZ2V0Q3VycmVudFByb2plY3QsXG4gIGNyZWF0ZU5ld1Byb2plY3QsXG4gIGVkaXRUaGlzUHJvamVjdCxcbiAgZGVsZXRlVGhpc1Byb2plY3Rcbn1cblxuIiwiaW1wb3J0IHtQcm9qZWN0LCBzdG9yZVByb2plY3QsIGdldEFsbFByb2plY3RzLCBcbiAgICAgICAgZmluZFByb2plY3QsIHN5bmNQcm9qZWN0LCBjcmVhdGVOZXdQcm9qZWN0fSBmcm9tIFwiLi9wcm9qZWN0XCJcbmltcG9ydCB7Z2V0VG9kb0NvbnRlbnR9IGZyb20gXCIuL3RvZG9cIlxuXG5jb25zdCBtb2RhbFNlY3Rpb25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1vZGFsXCIpXG5jb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0XCIpXG5jb25zdCB0b2dnbGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZ2dsZS1wcm9qZWN0XCIpXG5jb25zdCB0b2dnbGVJY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG9nZ2xlLWljb25zXCIpXG5jb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtcHJvamVjdFwiKVxuY29uc3QgbmV3UHJvamVjdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctcHJvamVjdC1mb3JtLW1vZGFsXCIpICBcbmNvbnN0IG5ld1Byb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctcHJvamVjdC1mb3JtXCIpXG5jb25zdCBjYW5jZWxCdG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNhbmNlbFwiKVxuY29uc3QgcHJvamVjdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbGlzdFwiKVxuY29uc3QgcHJvamVjdEJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtYm9keVwiKVxuY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbmFtZVwiKVxuY29uc3QgdG9kb0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tbGlzdFwiKVxuXG4vLyBTaG93IG9yIGhpZGUgc2lkZWJhclxubGV0IGNhblRvZ2dsZVNpZGVCYXIgPSAoKCkgPT4ge1xuICB0b2dnbGVCdG4ub25jbGljayA9ICgpID0+IHtcbiAgICBzaWRlYmFyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIilcbiAgICB0b2dnbGVJY29ucy5mb3JFYWNoKChpY29uKSA9PiBpY29uLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIikpXG4gIH1cbn0pKClcblxuLy8gT3BlbiBuZXcgcHJvamVjdCBmb3JtXG5sZXQgY2FuVHJpZ2dlck5ld1Byb2plY3RGb3JtID0gKCgpID0+IHtcbiAgYWRkUHJvamVjdEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgIG5ld1Byb2plY3RNb2RhbC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gIH1cbn0pKClcblxuLy8gQ3JlYXRlIHByb2plY3RcbmxldCBjYW5DcmVhdGVQcm9qZWN0ID0gKCgpID0+IHtcbiAgbmV3UHJvamVjdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBjcmVhdGVOZXdQcm9qZWN0KVxufSkoKVxuXG4vLyBDYW5jZWwgZm9ybVxubGV0IGNhbkNhbmNlbEZvcm0gPSAoKCkgPT4ge1xuICBsZXQgYnV0dG9uc0FycmF5ID0gQXJyYXkuZnJvbShjYW5jZWxCdG5zKVxuICBidXR0b25zQXJyYXkuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgbGV0IG1vZGFsID0gYnV0dG9uLmNsb3Nlc3QoXCJzZWN0aW9uXCIpXG4gICAgYnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICBtb2RhbC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gICAgfVxuICB9KVxufSkoKVxuXG4vLyBDYW5jZWwgZm9ybSBieSBjbGlja2luZyBvdXRzaWRlXG5sZXQgY2FuQ2xpY2tPdXRzaWRlID0gKCgpID0+IHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGxldCBjbGFzc2VzID0gZS50YXJnZXQuY2xhc3NOYW1lLnNwbGl0KFwiIFwiKVxuICAgIGxldCBoYXNNb2RhbCA9IGNsYXNzZXMuc29tZSgob25lY2xhc3MpID0+IG9uZWNsYXNzID09IFwibW9kYWxcIilcbiAgICBpZiAoaGFzTW9kYWwpIHtcbiAgICAgIGxldCBtb2RhbHMgPSBBcnJheS5mcm9tKG1vZGFsU2VjdGlvbnMpXG4gICAgICBtb2RhbHMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIilcbiAgICAgIH0gKVxuICAgIH1cbiAgfSkgIFxufSkoKVxuXG4vLyBTaG93IHByb2plY3RzXG5sZXQgY2FuU2hvd1Byb2plY3QgPSAoKCkgPT4ge1xuICBsZXQgYWxsUHJvamVjdHMgPSBnZXRBbGxQcm9qZWN0cygpXG4gIGFsbFByb2plY3RzLm1hcCgocHJvamVjdCkgPT4ge1xuICAgIGxldCBuZXdMaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpXG4gICAgbmV3TGluZS5pbm5lckhUTUwgPSBwcm9qZWN0Lm5hbWVcbiAgICBuZXdMaW5lLmNsYXNzTGlzdC5hZGQoXCJsaXN0LWl0ZW1cIilcbiAgICBwcm9qZWN0TGlzdC5hcHBlbmRDaGlsZChuZXdMaW5lKVxuICB9KVxufSkoKVxuXG4vLyBTaG93IHRvZG9cbmxldCBjYW5TaG93Q29udGVudCA9ICgoKSA9PiB7XG4gIGxldCBwcm9qZWN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJsaXN0LWl0ZW1cIilcbiAgbGV0IHByb2plY3RzQXJyYXkgPSBBcnJheS5mcm9tKHByb2plY3RzKVxuICBwcm9qZWN0c0FycmF5LmZvckVhY2goKGxpc3RJdGVtKSA9PiB7ICAgIFxuICAgIGxpc3RJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCgpID0+IHtcbiAgICAgIGxldCBwcm9qZWN0ID0gZmluZFByb2plY3QobGlzdEl0ZW0udGV4dENvbnRlbnQpXG4gICAgICAvLyBTeW5jaHJvbml6ZSBjdXJyZW50IHByb2plY3RcbiAgICAgIHN5bmNQcm9qZWN0KHByb2plY3QpXG4gICAgICBzaG93UHJvamVjdE5hbWUocHJvamVjdClcbiAgICAgIHNob3dUb2Rvcyhwcm9qZWN0KVxuICAgICAgcHJvamVjdEJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKSAgXG4gICAgfSlcbiAgfSlcblxuICAvLyBVcGRhdGUgcHJvamVjdCBuYW1lXG4gIGxldCBzaG93UHJvamVjdE5hbWUgPSAocHJvamVjdCkgPT4ge1xuICAgIHByb2plY3ROYW1lLmlubmVySFRNTCA9IHByb2plY3QubmFtZVxuICB9XG5cbiAgLy8gVXBkYXRlIHRvZG8gbGlzdCBcbiAgbGV0IHNob3dUb2RvcyA9IChwcm9qZWN0KSA9PiB7XG4gICAgbGV0IHRvZG9JdGVtcyA9IGdldFRvZG9Db250ZW50KHByb2plY3QpXG4gICAgaWYgKHRvZG9JdGVtcykge1xuICAgICAgdG9kb0xpc3QuaW5uZXJIVE1MID0gIHRvZG9JdGVtcy5tYXAoKHRhYmxlUm93KSA9PiB0YWJsZVJvdykuam9pbihcIlwiKVxuICAgIH1cbiAgfVxufSkoKVxuXG4iLCIvLyBUb2RvIGZhY3RvcnlcbmNvbnN0IFRvZG8gPSAodGl0bGUsIGR1ZSwgcHJpb3JpdHksIGNoZWNrZWQpID0+IHtcblxuICByZXR1cm4ge1xuICAgIHRpdGxlLFxuICAgIGR1ZSxcbiAgICBwcmlvcml0eSxcbiAgICBjaGVja2VkXG4gIH1cbn1cblxuLy8gR2V0IHRvZG8gY29udGVudFxuY29uc3QgZ2V0VG9kb0NvbnRlbnQgPSAocHJvamVjdCkgPT4ge1xuICBsZXQgdGFibGVSb3dzID0gW11cbiAgbGV0IGFycmF5ID0gcHJvamVjdC50b2RvXG5cbiAgYXJyYXkuZm9yRWFjaCgodG9kbykgPT4ge1xuICAgIGxldCByb3dIdG1sID0gYFxuICAgIDx0ciBjbGFzcz0nJHt0b2RvLmNoZWNrZWQgPyAnY29tcGxldGUnIDogdG9kby5wcmlvcml0eX0nPlxuICAgICAgPHRkPiR7dG9kby50aXRsZX08L3RkPlxuICAgICAgPHRkPiR7dG9kby5kdWV9PC90ZD5cbiAgICAgIDx0ZD4ke3RvZG8ucHJpb3JpdHl9PC90ZD5cbiAgICAgIDx0ZD5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz0ncHJvZ3Jlc3MnPlxuICAgICAgICAgICR7XG4gICAgICAgICAgICB0b2RvLmNoZWNrZWRcbiAgICAgICAgICAgICAgPyBcIjxzcGFuIGNsYXNzPSdtYXRlcmlhbC1pY29ucyc+dGFza19hbHQ8L3NwYW4+XCJcbiAgICAgICAgICAgICAgOiBcIjxzcGFuIGNsYXNzPSdtYXRlcmlhbC1pY29ucyc+cmVtb3ZlX2NpcmNsZV9vdXRsaW5lPC9zcGFuPlwiXG4gICAgICAgICAgfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvdGQ+XG4gICAgICA8dGQ+PGJ1dHRvbiBjbGFzcz0nZWRpdC10b2RvJz48c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+em9vbV9pbjwvc3Bhbj48L2J1dHRvbj48L3RkPlxuICAgICAgPHRkPjxidXR0b24gY2xhc3M9J2RlbGV0ZS10b2RvJz48c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZGVsZXRlX2ZvcmV2ZXI8L3NwYW4+PC9idXR0b24+PC90ZD5cbiAgICA8L3RyPmBcblxuICB0YWJsZVJvd3MucHVzaChyb3dIdG1sKVxuICB9KVxuXG4gIHJldHVybiB0YWJsZVJvd3Ncbn1cblxuZXhwb3J0IHtcbiAgVG9kbyxcbiAgZ2V0VG9kb0NvbnRlbnRcbn0iLCJpbXBvcnQge2dldEFsbFByb2plY3RzLCBnZXRDdXJyZW50UHJvamVjdCwgZWRpdFRoaXNQcm9qZWN0LCBcbiAgICAgICAgZGVsZXRlVGhpc1Byb2plY3R9IGZyb20gXCIuL3Byb2plY3RcIlxuXG5jb25zdCBwcm9qZWN0Qm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1ib2R5XCIpXG5jb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1uYW1lXCIpXG5jb25zdCBlZGl0UHJvamVjdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0LXByb2plY3QtZm9ybS1tb2RhbFwiKVxuY29uc3QgZWRpdFByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0LXByb2plY3QtZm9ybVwiKVxuY29uc3QgZWRpdFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXQtcHJvamVjdFwiKVxuY29uc3QgZGVsUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVsZXRlLXByb2plY3RcIilcbmNvbnN0IG5ld1RvZG9Nb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3LXRvZG8tZm9ybS1tb2RhbFwiKVxuY29uc3QgbmV3UHJvamVjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy10b2RvLWZvcm1cIilcbmNvbnN0IG5ld1RvZG9CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy10b2RvXCIpXG5cbi8vIEhpZGUgYm9keSB3aGVuIG5vIHByb2plY3RzXG5jb25zdCBhdXRvSGlkZUJvZHkgPSAoKCkgPT4ge1xuICBsZXQgYWxsUHJvamVjdHMgPSBnZXRBbGxQcm9qZWN0cygpXG4gIGlmIChhbGxQcm9qZWN0cy5sZW5ndGggPT0gMCkge1xuICAgIHByb2plY3RCb2R5LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIilcbiAgfVxufSkoKVxuXG4vLyBTaG93IGxhc3QgY2hlY2tlZCBwcm9qZWN0XG5jb25zdCBhdXRvU2hvd0JvZHkgPSAoKCkgPT4ge1xuICBsZXQgY3VycmVudFByb2plY3QgPSBnZXRDdXJyZW50UHJvamVjdCgpXG4gIGlmIChjdXJyZW50UHJvamVjdCkge1xuICAgIHByb2plY3ROYW1lLmlubmVySFRNTCA9IGN1cnJlbnRQcm9qZWN0Lm5hbWVcbiAgICBwcm9qZWN0Qm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpXG4gIH0gXG59KSgpXG5cbi8vIE9wZW4gZWRpdCBwcm9qZWN0IGZvcm1cbmNvbnN0IGNhblRyaWdnZXJFZGl0UHJvamVjdEZvcm0gPSAoKCkgPT57XG4gIGVkaXRQcm9qZWN0QnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgZWRpdFByb2plY3RNb2RhbC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gIH1cbn0pKClcblxuLy8gRWRpdCBwcm9qZWN0XG5jb25zdCBjYW5FZGl0UHJvamVjdCA9ICgoKSA9PiB7XG4gIGVkaXRQcm9qZWN0Rm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGVkaXRUaGlzUHJvamVjdClcbn0pKClcblxuLy8gRGVsZXRlIHByb2plY3RcbmNvbnN0IGNhbkRlbGV0ZVByb2plY3QgPSAoKCkgPT4ge1xuICBkZWxQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBkZWxldGVUaGlzUHJvamVjdClcbn0pKClcblxuLy8gT3BlbiBuZXcgdG9kbyBmb3JtXG5jb25zdCBjYW5UcmlnZ2VyTmV3VG9kb0Zvcm0gPSAoKCkgPT4ge1xuICBuZXdUb2RvQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgbmV3VG9kb01vZGFsLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIilcbiAgfVxufSkoKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==