(()=>{"use strict";const e=()=>{let e=localStorage.getItem("myProject");return e?JSON.parse(e):[]},t=(t,o)=>{let c,r=e();r.map(((e,n)=>{e.name==o.name&&t===o?(r.splice(n,1),c=JSON.stringify(r),localStorage.setItem("myProject",c)):e.name==o.name&&(r.splice(n,1,t),c=JSON.stringify(r),localStorage.setItem("myProject",c))}))},o=e=>{localStorage.setItem("currentProject",JSON.stringify(e))},c=()=>{let e=localStorage.getItem("currentProject");return e?JSON.parse(e):null},r=e=>{let t=(e=>{let t=[];return e.todo.forEach(((e,o)=>{let c=`\n    <tr class='${e.checked?"complete":e.priority}'>\n      <td>${e.title}</td>\n      <td>${e.due}</td>\n      <td>${e.priority}</td>\n      <td>\n        <button class='check-todo' data-index='${o}'>\n          ${e.checked?"<span class='material-icons'>task_alt</span>":"<span class='material-icons'>remove_circle_outline</span>"}\n        </button>\n      </td>\n      <td><button class='edit-todo' data-index='${o}'><span class="material-icons">zoom_in</span></button></td>\n      <td><button class='delete-todo' data-index='${o}'><span class="material-icons">delete_forever</span></button></td>\n    </tr>`;t.push(c)})),t})(e);return t?t.map((e=>e)).join(""):[]},n=e=>{let r=c(),n=c(),l=(e.target.closest("tr"),e.target.closest("button").dataset.index),a=n.todo[l];a.checked=!a.checked,o(n),t(n,r),location.reload()},l=document.getElementsByClassName("modal"),a=document.querySelector(".project"),s=document.querySelector(".toggle-project"),d=document.querySelectorAll(".toggle-icons"),i=document.getElementById("add-project"),m=document.querySelector(".new-project-form-modal"),u=document.querySelector(".new-project-form"),y=document.getElementsByClassName("cancel"),g=document.querySelector(".project-list"),p=document.querySelector(".project-body"),S=document.querySelector(".project-name"),h=document.querySelector(".todo-list"),f=document.getElementsByClassName("list-item");s.onclick=()=>{a.classList.toggle("active"),d.forEach((e=>e.classList.toggle("hidden")))},i.onclick=()=>{m.classList.toggle("hidden")},u.addEventListener("submit",(t=>{let c={name:t.target.elements.name.value,todo:[]};(t=>{let o=e();o.push(t),localStorage.setItem("myProject",JSON.stringify(o))})(c),o(c)})),Array.from(y).forEach((e=>{let t=e.closest("section");e.onclick=()=>{t.classList.toggle("hidden")}})),window.addEventListener("click",(e=>{e.target.className.split(" ").some((e=>"modal"==e))&&Array.from(l).forEach((e=>{e.classList.add("hidden")}))})),e().map((e=>{let t=document.createElement("li");t.innerHTML=e.name,t.classList.add("list-item"),g.appendChild(t)})),(()=>{let t=Array.from(f);t.forEach((t=>{t.addEventListener("click",(n=>{c(n);let l=(t=>e().find((e=>e.name==t)))(t.textContent);o(l),S.innerHTML=l.name,h.innerHTML=r(l),p.classList.remove("hidden")}))}));const c=e=>{t=Array.from(f),t.forEach((e=>{e.classList.remove("selected")})),e.target.classList.add("selected")}})();const L=document.querySelector(".project-body"),j=document.querySelector(".project-name"),E=document.querySelector(".edit-project-form-modal"),q=document.querySelector(".edit-project-form"),v=document.querySelector(".edit-project"),k=document.querySelector(".delete-project"),N=document.querySelector(".new-todo-form-modal"),b=document.querySelector(".new-todo-form"),C=document.querySelector(".new-todo"),I=document.querySelector(".todo-list"),$=(0==e().length&&L.classList.add("hidden"),(()=>{let e=c();e&&(j.innerHTML=e.name,L.classList.remove("hidden"),I.innerHTML=r(e))})(),v.onclick=()=>{E.classList.toggle("hidden")},q.addEventListener("submit",(e=>{let r=c(),n=c();n.name=e.target.elements.name.value,o(n),t(n,r)})),k.addEventListener("click",(()=>{if(!confirm("Delete this project?"))return;let e=c(),o=c();localStorage.removeItem("currentProject"),t(o,e),location.reload()})),C.onclick=()=>{N.classList.toggle("hidden")},b.addEventListener("submit",(e=>{let r=(e=>{let t=e.target.elements;return{title:t.title.value,due:t.due.value,priority:t.priority.value,checked:!1}})(e),n=c(),l=c();l.todo.push(r),o(l),t(l,n)})),document.getElementsByClassName("check-todo"));document.getElementsByClassName("edit-todo"),document.getElementsByClassName("delete-todo"),Array.from($).forEach((e=>{e.addEventListener("click",n)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvdG9kby5qcyIsIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvc2lkZWJhci5qcyIsIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvYm9keS5qcyIsIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvdGFibGUuanMiXSwibmFtZXMiOlsiZ2V0QWxsUHJvamVjdHMiLCJwcm9qZWN0TFMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwidXBkYXRlUHJvamVjdFN0b3JhZ2UiLCJuZXdQcm9qZWN0Iiwib2xkUHJvamVjdCIsInRlbXBTdG9yYWdlIiwicHJvamVjdFN0b3JhZ2UiLCJtYXAiLCJwcm9qZWN0IiwiaW5kZXgiLCJuYW1lIiwic3BsaWNlIiwic3RyaW5naWZ5Iiwic2V0SXRlbSIsInN5bmNQcm9qZWN0IiwiZ2V0Q3VycmVudFByb2plY3QiLCJjdXJyZW50UHJvamVjdExTIiwic2hvd1RvZG9zIiwidG9kb0l0ZW1zIiwidGFibGVSb3dzIiwidG9kbyIsImZvckVhY2giLCJyb3dIdG1sIiwiY2hlY2tlZCIsInByaW9yaXR5IiwidGl0bGUiLCJkdWUiLCJwdXNoIiwiZ2V0VG9kb0NvbnRlbnQiLCJ0YWJsZVJvdyIsImpvaW4iLCJjaGVja1RvZG8iLCJlIiwidG9kb0luZGV4IiwidGFyZ2V0IiwiY2xvc2VzdCIsImRhdGFzZXQiLCJhbHRlcmVkVG9kbyIsImxvY2F0aW9uIiwicmVsb2FkIiwibW9kYWxTZWN0aW9ucyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInNpZGViYXIiLCJxdWVyeVNlbGVjdG9yIiwidG9nZ2xlQnRuIiwidG9nZ2xlSWNvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWRkUHJvamVjdEJ0biIsImdldEVsZW1lbnRCeUlkIiwibmV3UHJvamVjdE1vZGFsIiwibmV3UHJvamVjdEZvcm0iLCJjYW5jZWxCdG5zIiwicHJvamVjdExpc3QiLCJwcm9qZWN0Qm9keSIsInByb2plY3ROYW1lIiwidG9kb0xpc3QiLCJwcm9qZWN0c0xpc3QiLCJvbmNsaWNrIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiaWNvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbGVtZW50cyIsInZhbHVlIiwiYWxsUHJvamVjdHMiLCJzdG9yZVByb2plY3QiLCJBcnJheSIsImZyb20iLCJidXR0b24iLCJtb2RhbCIsIndpbmRvdyIsImNsYXNzTmFtZSIsInNwbGl0Iiwic29tZSIsIm9uZWNsYXNzIiwic2VjdGlvbiIsImFkZCIsIm5ld0xpbmUiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJwcm9qZWN0c0FycmF5IiwibGlzdEl0ZW0iLCJzZWxlY3RPbmVQcm9qZWN0IiwiZmluZCIsInN0b3JlZFByb2plY3QiLCJmaW5kUHJvamVjdCIsInRleHRDb250ZW50IiwicmVtb3ZlIiwiZWRpdFByb2plY3RNb2RhbCIsImVkaXRQcm9qZWN0Rm9ybSIsImVkaXRQcm9qZWN0QnRuIiwiZGVsUHJvamVjdEJ0biIsIm5ld1RvZG9Nb2RhbCIsIm5ld1RvZG9CdG4iLCJjaGVja1RvZG9CdG5zIiwibGVuZ3RoIiwiY3VycmVudFByb2plY3QiLCJjb25maXJtIiwicmVtb3ZlSXRlbSIsIm5ld1RvZG8iLCJmb3JtRGF0YSIsImNyZWF0ZVRvZG8iXSwibWFwcGluZ3MiOiJtQkFDQSxNQWdCTUEsRUFBaUIsS0FDckIsSUFBSUMsRUFBWUMsYUFBYUMsUUFBUSxhQUNyQyxPQUFHRixFQUNpQkcsS0FBS0MsTUFBTUosR0FHdEIsSUFZTEssRUFBdUIsQ0FBQ0MsRUFBWUMsS0FDeEMsSUFDSUMsRUFEQUMsRUFBaUJWLElBR3JCVSxFQUFlQyxLQUFJLENBQUNDLEVBQVNDLEtBQ3ZCRCxFQUFRRSxNQUFRTixFQUFXTSxNQUFRUCxJQUFlQyxHQUVwREUsRUFBZUssT0FBT0YsRUFBTyxHQUM3QkosRUFBY0wsS0FBS1ks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QUFZL0QsRUFBVWlGLEtBTGQsR0FXbkJOLEVBQWVsQyxRQUFVLEtBQ3ZCZ0MsRUFBaUIvQixVQUFVQyxPQUFPLFdBTXBDK0IsRUFBZ0I3QixpQkFBaUIsVUhxQ1Y5QixJQUN2QixJQUFJNUIsRUFBYVcsSUFDYlosRUFBYVksSUFDakJaLEVBQVdPLEtBQU9zQixFQUFFRSxPQUFPNkIsU0FBU3JELEtBQUtzRCxNQUN6Q2xELEVBQVlYLEdBQ1pELEVBQXFCQyxFQUFZQyxNR3JDakN5RixFQUFjL0IsaUJBQWlCLFNIeUNQLEtBRXhCLElBRG1CcUMsUUFBUSx3QkFDUixPQUVuQixJQUFJL0YsRUFBYVcsSUFDYlosRUFBYVksSUFDakJqQixhQUFhc0csV0FBVyxrQkFDeEJsRyxFQUFxQkMsRUFBWUMsR0FDakNrQyxTQUFTQyxZRzVDVHdELEVBQVdyQyxRQUFVLEtBQ25Cb0MsRUFBYW5DLFVBQVVDLE9BQU8sV0FNaEMsRUFBZUUsaUJBQWlCLFVBQVU5QixJQUN4QyxJQUFJcUUsRUY3Q1csQ0FBQ3JFLElBQ2xCLElBQUlzRSxFQUFXdEUsRUFBRUUsT0FBTzZCLFNBT3hCLE1BakJPLENBQ0x0QyxNQVVVNkUsRUFBUzdFLE1BQU11QyxNQVR6QnRDLElBVVE0RSxFQUFTNUUsSUFBSXNDLE1BVHJCeEMsU0FVYThFLEVBQVM5RSxTQUFTd0MsTUFUL0J6QyxTQVVZLElFd0NFZ0YsQ0FBV3ZFLEdBQ3JCNUIsRUFBYVcsSUFDYlosRUFBYVksSUFDakJaLEVBQVdpQixLQUFLTyxLQUFLMEUsR0FDckJ2RixFQUFZWCxHQUNaRCxFQUFxQkMsRUFBWUMsTUM5RGZxQyxTQUFTQyx1QkFBdUIsZUFDakNELFNBQVNDLHVCQUF1QixhQUNqQ0QsU0FBU0MsdUJBQXVCLGVBSXBDeUIsTUFBTUMsS0FBSzRCLEdBQ2pCM0UsU0FBU2dELElBQ2ZBLEVBQU9QLGlCQUFpQixRQUFTL0IsTyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gUHJvamVjdCBmYWN0b3J5XG5jb25zdCBQcm9qZWN0ID0gKG5hbWUpID0+IHtcbiAgbGV0IHRvZG8gPSBbXVxuICByZXR1cm4ge1xuICAgIG5hbWUsXG4gICAgdG9kb1xuICB9XG59XG5cbi8vIFN0b3JlIG5ldyBwcm9qZWN0XG5jb25zdCBzdG9yZVByb2plY3QgPSAobmV3UHJvamVjdCkgPT4ge1xuICBsZXQgYWxsUHJvamVjdHMgPSBnZXRBbGxQcm9qZWN0cygpXG4gIGFsbFByb2plY3RzLnB1c2gobmV3UHJvamVjdClcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJteVByb2plY3RcIiwgSlNPTi5zdHJpbmdpZnkoYWxsUHJvamVjdHMpKVxufVxuXG4vLyBHZXQgc3RvcmVkIHByb2plY3RzXG5jb25zdCBnZXRBbGxQcm9qZWN0cyA9ICgpID0+IHtcbiAgbGV0IHByb2plY3RMUyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibXlQcm9qZWN0XCIpXG4gIGlmKHByb2plY3RMUykge1xuICAgIGxldCBhbGxQcm9qZWN0cyA9IEpTT04ucGFyc2UocHJvamVjdExTKVxuICAgIHJldHVybiBhbGxQcm9qZWN0c1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbXVxuICB9XG59XG5cbi8vIEZpbmQgYSBwcm9qZWN0XG5jb25zdCBmaW5kUHJvamVjdCA9IChwcm9qZWN0TmFtZSkgPT4ge1xuICBsZXQgYWxsUHJvamVjdHMgPSBnZXRBbGxQcm9qZWN0cygpXG4gIGxldCB0aGF0UHJvamVjdCA9IGFsbFByb2plY3RzLmZpbmQoc3RvcmVkUHJvamVjdCA9PiBzdG9yZWRQcm9qZWN0Lm5hbWUgPT0gcHJvamVjdE5hbWUpXG4gIHJldHVybiB0aGF0UHJvamVjdFxufVxuXG4vLyBVcGRhdGUgcHJvamVjdCBzdG9yYWdlXG5jb25zdCB1cGRhdGVQcm9qZWN0U3RvcmFnZSA9IChuZXdQcm9qZWN0LCBvbGRQcm9qZWN0KSA9PiB7XG4gIGxldCBwcm9qZWN0U3RvcmFnZSA9IGdldEFsbFByb2plY3RzKClcbiAgbGV0IHRlbXBTdG9yYWdlXG5cbiAgcHJvamVjdFN0b3JhZ2UubWFwKChwcm9qZWN0LCBpbmRleCkgPT4ge1xuICAgIGlmIChwcm9qZWN0Lm5hbWUgPT0gb2xkUHJvamVjdC5uYW1lICYmIG5ld1Byb2plY3QgPT09IG9sZFByb2plY3QpIHtcbiAgICAgIC8vIERlbGV0ZVxuICAgICAgcHJvamVjdFN0b3JhZ2Uuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgdGVtcFN0b3JhZ2UgPSBKU09OLnN0cmluZ2lmeShwcm9qZWN0U3RvcmFnZSlcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibXlQcm9qZWN0XCIsIHRlbXBTdG9yYWdlKVxuICAgIH0gZWxzZSBpZiAocHJvamVjdC5uYW1lID09IG9sZFByb2plY3QubmFtZSkge1xuICAgICAgLy8gQWRkXG4gICAgICBwcm9qZWN0U3RvcmFnZS5zcGxpY2UoaW5kZXgsIDEsIG5ld1Byb2plY3QpXG4gICAgICB0ZW1wU3RvcmFnZSA9IEpTT04uc3RyaW5naWZ5KHByb2plY3RTdG9yYWdlKVxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJteVByb2plY3RcIiwgdGVtcFN0b3JhZ2UpXG4gICAgfSBcbiAgfSlcbn1cblxuLy8gU3luY2hyb25pemUgY3VycmVudCBwcm9qZWN0XG5jb25zdCBzeW5jUHJvamVjdCA9IChwcm9qZWN0KSA9PiB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3VycmVudFByb2plY3RcIixKU09OLnN0cmluZ2lmeShwcm9qZWN0KSlcbn1cblxuLy8gR2V0IGN1cnJlbnQgcHJvamVjdFxuY29uc3QgZ2V0Q3VycmVudFByb2plY3QgPSAoKSA9PiB7XG4gIGxldCBjdXJyZW50UHJvamVjdExTID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjdXJyZW50UHJvamVjdFwiKVxuICBpZiAoY3VycmVudFByb2plY3RMUykge1xuICAgIGxldCBjdXJyZW50UHJvamVjdCA9IEpTT04ucGFyc2UoY3VycmVudFByb2plY3RMUylcbiAgICByZXR1cm4gY3VycmVudFByb2plY3RcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbi8vIENyZWF0ZSBuZXcgcHJvamVjdFxuY29uc3QgY3JlYXRlTmV3UHJvamVjdCA9IChlKSA9PiB7XG4gIGxldCBwcm9qZWN0TmFtZSA9IGUudGFyZ2V0LmVsZW1lbnRzLm5hbWUudmFsdWVcbiAgbGV0IG5ld1Byb2plY3QgPSBQcm9qZWN0KHByb2plY3ROYW1lKVxuICBzdG9yZVByb2plY3QobmV3UHJvamVjdCkgIFxuICBzeW5jUHJvamVjdChuZXdQcm9qZWN0KVxufVxuXG4vLyBFZGl0IHByb2plY3QgbmFtZVxuY29uc3QgZWRpdFRoaXNQcm9qZWN0ID0gKGUpID0+IHtcbiAgbGV0IG9sZFByb2plY3QgPSBnZXRDdXJyZW50UHJvamVjdCgpXG4gIGxldCBuZXdQcm9qZWN0ID0gZ2V0Q3VycmVudFByb2plY3QoKVxuICBuZXdQcm9qZWN0Lm5hbWUgPSBlLnRhcmdldC5lbGVtZW50cy5uYW1lLnZhbHVlXG4gIHN5bmNQcm9qZWN0KG5ld1Byb2plY3QpXG4gIHVwZGF0ZVByb2plY3RTdG9yYWdlKG5ld1Byb2plY3QsIG9sZFByb2plY3QpXG59XG5cbi8vIERlbGV0ZSBwcm9qZWN0XG5jb25zdCBkZWxldGVUaGlzUHJvamVjdCA9ICgpID0+IHtcbiAgbGV0IGNvbmZpcm1hdGlvbiA9IGNvbmZpcm0oXCJEZWxldGUgdGhpcyBwcm9qZWN0P1wiKVxuICBpZiAoIWNvbmZpcm1hdGlvbikgcmV0dXJuXG5cbiAgbGV0IG9sZFByb2plY3QgPSBnZXRDdXJyZW50UHJvamVjdCgpXG4gIGxldCBuZXdQcm9qZWN0ID0gZ2V0Q3VycmVudFByb2plY3QoKVxuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImN1cnJlbnRQcm9qZWN0XCIpXG4gIHVwZGF0ZVByb2plY3RTdG9yYWdlKG5ld1Byb2plY3QsIG9sZFByb2plY3QpXG4gIGxvY2F0aW9uLnJlbG9hZCgpXG59XG5cbi8vIFVwZGF0ZSBwcm9qZWN0IGN1cnJlbnRQcm9qZWN0LnVwZGF0ZSB0aGlzLm5hbWVcblxuXG5leHBvcnQge1xuICBQcm9qZWN0LFxuICBzdG9yZVByb2plY3QsXG4gIGdldEFsbFByb2plY3RzLFxuICBmaW5kUHJvamVjdCxcbiAgc3luY1Byb2plY3QsXG4gIGdldEN1cnJlbnRQcm9qZWN0LFxuICBjcmVhdGVOZXdQcm9qZWN0LFxuICBlZGl0VGhpc1Byb2plY3QsXG4gIGRlbGV0ZVRoaXNQcm9qZWN0LFxuICB1cGRhdGVQcm9qZWN0U3RvcmFnZVxufVxuXG4iLCJpbXBvcnQge2dldEFsbFByb2plY3RzLCB1cGRhdGVQcm9qZWN0U3RvcmFnZSwgc3luY1Byb2plY3QsXG4gICAgICAgIGdldEN1cnJlbnRQcm9qZWN0fSBmcm9tIFwiLi9wcm9qZWN0XCJcblxuLy8gVG9kbyBmYWN0b3J5XG5jb25zdCBUb2RvID0gKHRpdGxlLCBkdWUsIHByaW9yaXR5LCBjaGVja2VkKSA9PiB7XG5cbiAgcmV0dXJuIHtcbiAgICB0aXRsZSxcbiAgICBkdWUsXG4gICAgcHJpb3JpdHksXG4gICAgY2hlY2tlZFxuICB9XG59XG5cbi8vIENyZWF0ZSBuZXcgdG9kb1xuY29uc3QgY3JlYXRlVG9kbyA9IChlKSA9PiB7XG4gIGxldCBmb3JtRGF0YSA9IGUudGFyZ2V0LmVsZW1lbnRzXG4gIGxldCB0aXRsZSA9IGZvcm1EYXRhLnRpdGxlLnZhbHVlXG4gIGxldCBkdWUgPSBmb3JtRGF0YS5kdWUudmFsdWVcbiAgbGV0IHByaW9yaXR5ID0gZm9ybURhdGEucHJpb3JpdHkudmFsdWVcbiAgbGV0IGNoZWNrZWQgPSBmYWxzZVxuICBsZXQgbmV3VG9kbyA9IFRvZG8odGl0bGUsIGR1ZSwgcHJpb3JpdHksIGNoZWNrZWQpXG5cbiAgcmV0dXJuIG5ld1RvZG9cbn1cblxuLy8gR2V0IHRvZG8gY29udGVudFxuY29uc3QgZ2V0VG9kb0NvbnRlbnQgPSAocHJvamVjdCkgPT4ge1xuICBsZXQgdGFibGVSb3dzID0gW11cbiAgbGV0IGFycmF5ID0gcHJvamVjdC50b2RvXG5cbiAgYXJyYXkuZm9yRWFjaCgodG9kbywgaW5kZXgpID0+IHtcbiAgICBsZXQgcm93SHRtbCA9IGBcbiAgICA8dHIgY2xhc3M9JyR7dG9kby5jaGVja2VkID8gJ2NvbXBsZXRlJyA6IHRvZG8ucHJpb3JpdHl9Jz5cbiAgICAgIDx0ZD4ke3RvZG8udGl0bGV9PC90ZD5cbiAgICAgIDx0ZD4ke3RvZG8uZHVlfTwvdGQ+XG4gICAgICA8dGQ+JHt0b2RvLnByaW9yaXR5fTwvdGQ+XG4gICAgICA8dGQ+XG4gICAgICAgIDxidXR0b24gY2xhc3M9J2NoZWNrLXRvZG8nIGRhdGEtaW5kZXg9JyR7aW5kZXh9Jz5cbiAgICAgICAgICAke1xuICAgICAgICAgICAgdG9kby5jaGVja2VkXG4gICAgICAgICAgICAgID8gXCI8c3BhbiBjbGFzcz0nbWF0ZXJpYWwtaWNvbnMnPnRhc2tfYWx0PC9zcGFuPlwiXG4gICAgICAgICAgICAgIDogXCI8c3BhbiBjbGFzcz0nbWF0ZXJpYWwtaWNvbnMnPnJlbW92ZV9jaXJjbGVfb3V0bGluZTwvc3Bhbj5cIlxuICAgICAgICAgIH1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L3RkPlxuICAgICAgPHRkPjxidXR0b24gY2xhc3M9J2VkaXQtdG9kbycgZGF0YS1pbmRleD0nJHtpbmRleH0nPjxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj56b29tX2luPC9zcGFuPjwvYnV0dG9uPjwvdGQ+XG4gICAgICA8dGQ+PGJ1dHRvbiBjbGFzcz0nZGVsZXRlLXRvZG8nIGRhdGEtaW5kZXg9JyR7aW5kZXh9Jz48c3BhbiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZGVsZXRlX2ZvcmV2ZXI8L3NwYW4+PC9idXR0b24+PC90ZD5cbiAgICA8L3RyPmBcblxuICB0YWJsZVJvd3MucHVzaChyb3dIdG1sKVxuICB9KVxuXG4gIHJldHVybiB0YWJsZVJvd3Ncbn1cblxuLy8gU2hvdyB0b2Rvc1xuY29uc3Qgc2hvd1RvZG9zID0gKHByb2plY3QpID0+IHtcbiAgbGV0IHRvZG9JdGVtcyA9IGdldFRvZG9Db250ZW50KHByb2plY3QpXG4gIGlmICh0b2RvSXRlbXMpIHtcbiAgICBsZXQgbGlzdEh0bWwgPSB0b2RvSXRlbXMubWFwKCh0YWJsZVJvdykgPT4gdGFibGVSb3cpLmpvaW4oXCJcIilcbiAgICByZXR1cm4gbGlzdEh0bWxcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW11cbiAgfVxufVxuXG4vLyBDaGVjayBvciB1bmNoZWNrIHRvZG9cbmNvbnN0IGNoZWNrVG9kbyA9IChlKSA9PiB7XG4gIGxldCBvbGRQcm9qZWN0ID0gZ2V0Q3VycmVudFByb2plY3QoKVxuICBsZXQgbmV3UHJvamVjdCA9IGdldEN1cnJlbnRQcm9qZWN0KClcbiAgbGV0IHRhYmxlUm93ID0gZS50YXJnZXQuY2xvc2VzdChcInRyXCIpXG4gIGxldCB0b2RvSW5kZXggPSBlLnRhcmdldC5jbG9zZXN0KFwiYnV0dG9uXCIpLmRhdGFzZXQuaW5kZXhcbiAgbGV0IGFsdGVyZWRUb2RvID0gbmV3UHJvamVjdC50b2RvW3RvZG9JbmRleF1cbiAgXG4gIGFsdGVyZWRUb2RvLmNoZWNrZWQgPSAhKGFsdGVyZWRUb2RvLmNoZWNrZWQpXG4gIHN5bmNQcm9qZWN0KG5ld1Byb2plY3QpXG4gIHVwZGF0ZVByb2plY3RTdG9yYWdlKG5ld1Byb2plY3QsIG9sZFByb2plY3QpXG4gIC8vIFVwZGF0ZSBpbnRlcmZhY2VcbiAgbG9jYXRpb24ucmVsb2FkKClcbn1cblxuZXhwb3J0IHtcbiAgVG9kbyxcbiAgY3JlYXRlVG9kbyxcbiAgc2hvd1RvZG9zLFxuICBjaGVja1RvZG9cbn0iLCJpbXBvcnQge1Byb2plY3QsIHN0b3JlUHJvamVjdCwgZ2V0QWxsUHJvamVjdHMsIFxuICAgICAgICBmaW5kUHJvamVjdCwgc3luY1Byb2plY3QsIGNyZWF0ZU5ld1Byb2plY3R9IGZyb20gXCIuL3Byb2plY3RcIlxuaW1wb3J0IHtzaG93VG9kb3N9IGZyb20gXCIuL3RvZG9cIlxuXG5jb25zdCBtb2RhbFNlY3Rpb25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1vZGFsXCIpXG5jb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0XCIpXG5jb25zdCB0b2dnbGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZ2dsZS1wcm9qZWN0XCIpXG5jb25zdCB0b2dnbGVJY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG9nZ2xlLWljb25zXCIpXG5jb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtcHJvamVjdFwiKVxuY29uc3QgbmV3UHJvamVjdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctcHJvamVjdC1mb3JtLW1vZGFsXCIpICBcbmNvbnN0IG5ld1Byb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctcHJvamVjdC1mb3JtXCIpXG5jb25zdCBjYW5jZWxCdG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNhbmNlbFwiKVxuY29uc3QgcHJvamVjdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbGlzdFwiKVxuY29uc3QgcHJvamVjdEJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtYm9keVwiKVxuY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbmFtZVwiKVxuY29uc3QgdG9kb0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tbGlzdFwiKVxuY29uc3QgcHJvamVjdHNMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImxpc3QtaXRlbVwiKVxuXG4vLyBTaG93IG9yIGhpZGUgc2lkZWJhclxubGV0IGNhblRvZ2dsZVNpZGVCYXIgPSAoKCkgPT4ge1xuICB0b2dnbGVCdG4ub25jbGljayA9ICgpID0+IHtcbiAgICBzaWRlYmFyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIilcbiAgICB0b2dnbGVJY29ucy5mb3JFYWNoKChpY29uKSA9PiBpY29uLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIikpXG4gIH1cbn0pKClcblxuLy8gT3BlbiBuZXcgcHJvamVjdCBmb3JtXG5sZXQgY2FuVHJpZ2dlck5ld1Byb2plY3RGb3JtID0gKCgpID0+IHtcbiAgYWRkUHJvamVjdEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgIG5ld1Byb2plY3RNb2RhbC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gIH1cbn0pKClcblxuLy8gQ3JlYXRlIHByb2plY3RcbmxldCBjYW5DcmVhdGVQcm9qZWN0ID0gKCgpID0+IHtcbiAgbmV3UHJvamVjdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBjcmVhdGVOZXdQcm9qZWN0KVxufSkoKVxuXG4vLyBDYW5jZWwgZm9ybVxubGV0IGNhbkNhbmNlbEZvcm0gPSAoKCkgPT4ge1xuICBsZXQgYnV0dG9uc0FycmF5ID0gQXJyYXkuZnJvbShjYW5jZWxCdG5zKVxuICBidXR0b25zQXJyYXkuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgbGV0IG1vZGFsID0gYnV0dG9uLmNsb3Nlc3QoXCJzZWN0aW9uXCIpXG4gICAgYnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICBtb2RhbC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gICAgfVxuICB9KVxufSkoKVxuXG4vLyBDYW5jZWwgZm9ybSBieSBjbGlja2luZyBvdXRzaWRlXG5sZXQgY2FuQ2xpY2tPdXRzaWRlID0gKCgpID0+IHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGxldCBjbGFzc2VzID0gZS50YXJnZXQuY2xhc3NOYW1lLnNwbGl0KFwiIFwiKVxuICAgIGxldCBoYXNNb2RhbCA9IGNsYXNzZXMuc29tZSgob25lY2xhc3MpID0+IG9uZWNsYXNzID09IFwibW9kYWxcIilcbiAgICBpZiAoaGFzTW9kYWwpIHtcbiAgICAgIGxldCBtb2RhbHMgPSBBcnJheS5mcm9tKG1vZGFsU2VjdGlvbnMpXG4gICAgICBtb2RhbHMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIilcbiAgICAgIH0gKVxuICAgIH1cbiAgfSkgIFxufSkoKVxuXG4vLyBTaG93IHByb2plY3RzXG5sZXQgY2FuU2hvd1Byb2plY3QgPSAoKCkgPT4ge1xuICBsZXQgYWxsUHJvamVjdHMgPSBnZXRBbGxQcm9qZWN0cygpXG4gIGFsbFByb2plY3RzLm1hcCgocHJvamVjdCkgPT4ge1xuICAgIGxldCBuZXdMaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpXG4gICAgbmV3TGluZS5pbm5lckhUTUwgPSBwcm9qZWN0Lm5hbWVcbiAgICBuZXdMaW5lLmNsYXNzTGlzdC5hZGQoXCJsaXN0LWl0ZW1cIilcbiAgICBwcm9qZWN0TGlzdC5hcHBlbmRDaGlsZChuZXdMaW5lKVxuICB9KVxufSkoKVxuXG4vLyBTaG93IHRvZG9cbmxldCBjYW5TaG93Q29udGVudCA9ICgoKSA9PiB7XG4gIGxldCBwcm9qZWN0c0FycmF5ID0gQXJyYXkuZnJvbShwcm9qZWN0c0xpc3QpXG4gIHByb2plY3RzQXJyYXkuZm9yRWFjaCgobGlzdEl0ZW0pID0+IHsgICAgXG4gICAgbGlzdEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGUpID0+IHtcbiAgICAgIHNlbGVjdE9uZVByb2plY3QoZSlcbiAgICAgIGxldCBwcm9qZWN0ID0gZmluZFByb2plY3QobGlzdEl0ZW0udGV4dENvbnRlbnQpXG4gICAgICAvLyBTeW5jaHJvbml6ZSBjdXJyZW50IHByb2plY3RcbiAgICAgIHN5bmNQcm9qZWN0KHByb2plY3QpXG4gICAgICAvLyBBdXRvIHVwZGF0ZSBwcm9qZWN0IGNvbnRlbnRcbiAgICAgIHByb2plY3ROYW1lLmlubmVySFRNTCA9IHByb2plY3QubmFtZVxuICAgICAgdG9kb0xpc3QuaW5uZXJIVE1MID0gc2hvd1RvZG9zKHByb2plY3QpXG4gICAgICBwcm9qZWN0Qm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpICBcbiAgICB9KVxuICB9KVxuXG4gIC8vIFNlbGVjdGVkIHByb2plY3QgZGlzcGxheVxuICBjb25zdCBzZWxlY3RPbmVQcm9qZWN0ID0gKGUpID0+IHtcbiAgICBwcm9qZWN0c0FycmF5ID0gQXJyYXkuZnJvbShwcm9qZWN0c0xpc3QpXG4gICAgcHJvamVjdHNBcnJheS5mb3JFYWNoKChsaXN0SXRlbSkgPT4ge1xuICAgICAgbGlzdEl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpXG4gICAgfSlcbiAgICBsZXQgc2VsZWN0ZWQgPSBlLnRhcmdldFxuICAgIHNlbGVjdGVkLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKVxuICB9XG59KSgpXG5cbiIsImltcG9ydCB7Z2V0QWxsUHJvamVjdHMsIGdldEN1cnJlbnRQcm9qZWN0LCBlZGl0VGhpc1Byb2plY3QsIFxuICAgICAgICBkZWxldGVUaGlzUHJvamVjdCwgc3luY1Byb2plY3QsIHVwZGF0ZVByb2plY3RTdG9yYWdlfSBmcm9tIFwiLi9wcm9qZWN0XCJcbmltcG9ydCB7Y3JlYXRlVG9kbywgc2hvd1RvZG9zfSBmcm9tIFwiLi90b2RvXCJcblxuY29uc3QgcHJvamVjdEJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtYm9keVwiKVxuY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbmFtZVwiKVxuY29uc3QgZWRpdFByb2plY3RNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1wcm9qZWN0LWZvcm0tbW9kYWxcIilcbmNvbnN0IGVkaXRQcm9qZWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1wcm9qZWN0LWZvcm1cIilcbmNvbnN0IGVkaXRQcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0LXByb2plY3RcIilcbmNvbnN0IGRlbFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRlbGV0ZS1wcm9qZWN0XCIpXG5jb25zdCBuZXdUb2RvTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy10b2RvLWZvcm0tbW9kYWxcIilcbmNvbnN0IG5ld1Byb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctdG9kby1mb3JtXCIpXG5jb25zdCBuZXdUb2RvQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctdG9kb1wiKVxuY29uc3QgdG9kb0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tbGlzdFwiKVxuXG4vLyBBdXRvIGhpZGUgYm9keSB3aGVuIG5vIHByb2plY3RzXG5jb25zdCBhdXRvSGlkZUJvZHkgPSAoKCkgPT4ge1xuICBsZXQgYWxsUHJvamVjdHMgPSBnZXRBbGxQcm9qZWN0cygpXG4gIGlmIChhbGxQcm9qZWN0cy5sZW5ndGggPT0gMCkge1xuICAgIHByb2plY3RCb2R5LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIilcbiAgfVxufSkoKVxuXG4vLyBBdXRvIHNob3cgbGFzdCBjaGVja2VkIHByb2plY3RcbmNvbnN0IGF1dG9TaG93Qm9keSA9ICgoKSA9PiB7XG4gIGxldCBjdXJyZW50UHJvamVjdCA9IGdldEN1cnJlbnRQcm9qZWN0KClcbiAgaWYgKGN1cnJlbnRQcm9qZWN0KSB7XG4gICAgcHJvamVjdE5hbWUuaW5uZXJIVE1MID0gY3VycmVudFByb2plY3QubmFtZVxuICAgIHByb2plY3RCb2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIilcbiAgICB0b2RvTGlzdC5pbm5lckhUTUwgPSBzaG93VG9kb3MoY3VycmVudFByb2plY3QpXG4gIH0gXG59KSgpXG5cbi8vIE9wZW4gZWRpdCBwcm9qZWN0IGZvcm1cbmNvbnN0IGNhblRyaWdnZXJFZGl0UHJvamVjdEZvcm0gPSAoKCkgPT57XG4gIGVkaXRQcm9qZWN0QnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgZWRpdFByb2plY3RNb2RhbC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gIH1cbn0pKClcblxuLy8gRWRpdCBwcm9qZWN0XG5jb25zdCBjYW5FZGl0UHJvamVjdCA9ICgoKSA9PiB7XG4gIGVkaXRQcm9qZWN0Rm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGVkaXRUaGlzUHJvamVjdClcbn0pKClcblxuLy8gRGVsZXRlIHByb2plY3RcbmNvbnN0IGNhbkRlbGV0ZVByb2plY3QgPSAoKCkgPT4ge1xuICBkZWxQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBkZWxldGVUaGlzUHJvamVjdClcbn0pKClcblxuLy8gT3BlbiBuZXcgdG9kbyBmb3JtXG5jb25zdCBjYW5UcmlnZ2VyTmV3VG9kb0Zvcm0gPSAoKCkgPT4ge1xuICBuZXdUb2RvQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgbmV3VG9kb01vZGFsLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIilcbiAgfVxufSkoKVxuXG4vLyBDcmVhdGUgbmV3IHRvZG9cbmNvbnN0IGNhbkNyZWF0ZVRvZG8gPSAoKCkgPT4ge1xuICBuZXdQcm9qZWN0Rm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsKGUpID0+IHtcbiAgICBsZXQgbmV3VG9kbyA9IGNyZWF0ZVRvZG8oZSlcbiAgICBsZXQgb2xkUHJvamVjdCA9IGdldEN1cnJlbnRQcm9qZWN0KClcbiAgICBsZXQgbmV3UHJvamVjdCA9IGdldEN1cnJlbnRQcm9qZWN0KClcbiAgICBuZXdQcm9qZWN0LnRvZG8ucHVzaChuZXdUb2RvKVxuICAgIHN5bmNQcm9qZWN0KG5ld1Byb2plY3QpXG4gICAgdXBkYXRlUHJvamVjdFN0b3JhZ2UobmV3UHJvamVjdCwgb2xkUHJvamVjdClcbiAgfSlcbn0pKClcblxuIiwiLy8gVGFibGUgd2l0aGluIGJvZHlcbmltcG9ydCB7Y2hlY2tUb2RvfSBmcm9tIFwiLi90b2RvXCJcblxuY29uc3QgY2hlY2tUb2RvQnRucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjaGVjay10b2RvXCIpXG5jb25zdCBlZGl0VG9kb0J0bnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZWRpdC10b2RvXCIpXG5jb25zdCBkZWxUb2RvQnRucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJkZWxldGUtdG9kb1wiKVxuXG4vLyBDaGVjayBvciB1bmNoZWNrIG9uZSB0b2RvXG5jb25zdCBjYW5DaGVja1RvZG8gPSAoKCkgPT4ge1xuICBsZXQgYnV0dG9ucyA9IEFycmF5LmZyb20oY2hlY2tUb2RvQnRucylcbiAgYnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNoZWNrVG9kbylcbiAgfSlcbn0pKClcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==