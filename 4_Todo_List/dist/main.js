(()=>{"use strict";const e=()=>{let e=localStorage.getItem("myProject");return e?JSON.parse(e):[]},t=(e,t)=>{let o,r=JSON.parse(localStorage.getItem("myProject"));r.map(((c,l)=>{c.name==t.name&&e==t?(r.splice(l,1),o=JSON.stringify(r),localStorage.setItem("myProject",o)):(r.splice(l,1,e),o=JSON.stringify(r),localStorage.setItem("myProject",o))}))},o=e=>{localStorage.setItem("currentProject",JSON.stringify(e))},r=()=>{let e=localStorage.getItem("currentProject");return e?JSON.parse(e):null},c=document.getElementsByClassName("modal"),l=document.querySelector(".project"),n=document.querySelector(".toggle-project"),s=document.querySelectorAll(".toggle-icons"),a=document.getElementById("add-project"),d=document.querySelector(".new-project-form-modal"),i=document.querySelector(".new-project-form"),m=document.getElementsByClassName("cancel"),u=document.querySelector(".project-list"),p=document.querySelector(".project-body"),g=document.querySelector(".project-name"),y=document.querySelector(".todo-list");n.onclick=()=>{l.classList.toggle("active"),s.forEach((e=>e.classList.toggle("hidden")))},a.onclick=()=>{d.classList.toggle("hidden")},i.addEventListener("submit",(t=>{let r={name:t.target.elements.name.value,todo:[]};(t=>{let o=e();o.push(t),localStorage.setItem("myProject",JSON.stringify(o))})(r),o(r)})),Array.from(m).forEach((e=>{let t=e.closest("section");e.onclick=()=>{t.classList.toggle("hidden")}})),window.addEventListener("click",(e=>{e.target.className.split(" ").some((e=>"modal"==e))&&Array.from(c).forEach((e=>{e.classList.add("hidden")}))})),e().map((e=>{let t=document.createElement("li");t.innerHTML=e.name,t.classList.add("list-item"),u.appendChild(t)})),(()=>{let t=document.getElementsByClassName("list-item");Array.from(t).forEach((t=>{t.addEventListener("click",(()=>{let l=(t=>e().find((e=>e.name==t)))(t.textContent);o(l),r(l),c(l),p.classList.remove("hidden")}))}));let r=e=>{g.innerHTML=e.name},c=e=>{let t=(e=>{let t=[];return e.todo.forEach((e=>{let o=`\n    <tr class='${e.checked?"complete":e.priority}'>\n      <td>${e.title}</td>\n      <td>${e.due}</td>\n      <td>${e.priority}</td>\n      <td>\n        <button class='progress'>\n          ${e.checked?"<span class='material-icons'>task_alt</span>":"<span class='material-icons'>remove_circle_outline</span>"}\n        </button>\n      </td>\n      <td><button class='edit-todo'><span class="material-icons">zoom_in</span></button></td>\n      <td><button class='delete-todo'><span class="material-icons">delete_forever</span></button></td>\n    </tr>`;t.push(o)})),t})(e);t&&(y.innerHTML=t.map((e=>e)).join(""))}})();const S=document.querySelector(".project-body"),j=document.querySelector(".project-name"),h=document.querySelector(".edit-project-form-modal"),f=document.querySelector(".edit-project-form"),L=document.querySelector(".edit-project"),q=document.querySelector(".delete-project"),v=document.querySelector(".new-todo-form-modal"),E=document.querySelector(".new-todo-form"),k=document.querySelector(".new-todo");0==e().length&&S.classList.add("hidden"),(()=>{let e=r();e&&(j.innerHTML=e.name,S.classList.remove("hidden"))})(),L.onclick=()=>{h.classList.toggle("hidden")},f.addEventListener("submit",(e=>{let c=r(),l=r();l.name=e.target.elements.name.value,o(l),t(l,c)})),q.addEventListener("click",(()=>{if(!confirm("Delete this project?"))return;let e=r(),o=r();localStorage.removeItem("currentProject"),t(o,e),location.reload()})),k.onclick=()=>{v.classList.toggle("hidden")},E.addEventListener("submit",(e=>{let c=(e=>{let t=e.target.elements;return{title:t.title.value,due:t.due.value,priority:t.priority.value,checked:!1}})(e),l=r(),n=r();n.todo.push(c),o(n),t(n,l)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvc2lkZWJhci5qcyIsIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvdG9kby5qcyIsIndlYnBhY2s6Ly90b2RvX2xpc3QvLi9zcmMvYm9keS5qcyJdLCJuYW1lcyI6WyJnZXRBbGxQcm9qZWN0cyIsInByb2plY3RMUyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJ1cGRhdGVQcm9qZWN0U3RvcmFnZSIsIm5ld1Byb2plY3QiLCJvbGRQcm9qZWN0IiwidGVtcFN0b3JhZ2UiLCJwcm9qZWN0U3RvcmFnZSIsIm1hcCIsInByb2plY3QiLCJpbmRleCIsIm5hbWUiLCJzcGxpY2UiLCJzdHJpbmdpZnkiLCJzZXRJdGVtIiwic3luY1Byb2plY3QiLCJnZXRDdXJyZW50UHJvamVjdCIsImN1cnJlbnRQcm9qZWN0TFMiLCJtb2RhbFNlY3Rpb25zIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwic2lkZWJhciIsInF1ZXJ5U2VsZWN0b3IiLCJ0b2dnbGVCdG4iLCJ0b2dnbGVJY29ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRQcm9qZWN0QnRuIiwiZ2V0RWxlbWVudEJ5SWQiLCJuZXdQcm9qZWN0TW9kYWwiLCJuZXdQcm9qZWN0Rm9ybSIsImNhbmNlbEJ0bnMiLCJwcm9qZWN0TGlzdCIsInByb2plY3RCb2R5IiwicHJvamVjdE5hbWUiLCJ0b2RvTGlzdCIsIm9uY2xpY2siLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJmb3JFYWNoIiwiaWNvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0IiwiZWxlbWVudHMiLCJ2YWx1ZSIsInRvZG8iLCJhbGxQcm9qZWN0cyIsInB1c2giLCJzdG9yZVByb2plY3QiLCJBcnJheSIsImZyb20iLCJidXR0b24iLCJtb2RhbCIsImNsb3Nlc3QiLCJ3aW5kb3ciLCJjbGFzc05hbWUiLCJzcGxpdCIsInNvbWUiLCJvbmVjbGFzcyIsInNlY3Rpb24iLCJhZGQiLCJuZXdMaW5lIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwicHJvamVjdHMiLCJsaXN0SXRlbSIsImZpbmQiLCJzdG9yZWRQcm9qZWN0IiwiZmluZFByb2plY3QiLCJ0ZXh0Q29udGVudCIsInNob3dQcm9qZWN0TmFtZSIsInNob3dUb2RvcyIsInJlbW92ZSIsInRvZG9JdGVtcyIsInRhYmxlUm93cyIsInJvd0h0bWwiLCJjaGVja2VkIiwicHJpb3JpdHkiLCJ0aXRsZSIsImR1ZSIsImdldFRvZG9Db250ZW50IiwidGFibGVSb3ciLCJqb2luIiwiZWRpdFByb2plY3RNb2RhbCIsImVkaXRQcm9qZWN0Rm9ybSIsImVkaXRQcm9qZWN0QnRuIiwiZGVsUHJvamVjdEJ0biIsIm5ld1RvZG9Nb2RhbCIsIm5ld1RvZG9CdG4iLCJsZW5ndGgiLCJjdXJyZW50UHJvamVjdCIsImNvbmZpcm0iLCJyZW1vdmVJdGVtIiwibG9jYXRpb24iLCJyZWxvYWQiLCJuZXdUb2RvIiwiZm9ybURhdGEiLCJjcmVhdGVUb2RvIl0sIm1hcHBpbmdzIjoibUJBQ0EsTUFnQk1BLEVBQWlCLEtBQ3JCLElBQUlDLEVBQVlDLGFBQWFDLFFBQVEsYUFDckMsT0FBR0YsRUFDaUJHLEtBQUtDLE1BQU1KLEdBR3RCLElBWUxLLEVBQXVCLENBQUNDLEVBQVlDLEtBQ3hDLElBQ0lDLEVBREFDLEVBQWlCTixLQUFLQyxNQUFNSCxhQUFhQyxRQUFRLGNBR3JETyxFQUFlQyxLQUFJLENBQUNDLEVBQVNDLEtBQ3ZCRCxFQUFRRSxNQUFRTixFQUFXTSxNQUFRUCxHQUFjQyxHQUVuREUsRUFBZUssT0FBT0YsRUFBTyxHQUM3QkosRUFBY0wsS0FBS1ksVUFBVU4sR0FDN0JSLGFBQWFlLFFBQVEsWUFBYVIsS0FHbENDLEVBQWVLLE9BQU9GLEVBQU8sRUFBR04sR0FDaENFLEVBQWNMLEtBQUtZLFVBQVVOLEdBQzdCUixhQUFhZSxRQUFRLFlBQWFSLFFBTWxDUyxFQUFlTixJQUNuQlYsYUFBYWUsUUFBUSxpQkFBaUJiLEtBQUtZLFVBQVVKLEtBSWpETyxFQUFvQixLQUN4QixJQUFJQyxFQUFtQmxCLGFBQWFDLFFBQVEsa0JBQzVDLE9BQUlpQixFQUNtQmhCLEtBQUtDLE1BQU1lLEdBR3pCLE1DOURMQyxFQUFnQkMsU0FBU0MsdUJBQXVCLFNBQ2hEQyxFQUFVRixTQUFTRyxjQUFjLFlBQ2pDQyxFQUFZSixTQUFTRyxjQUFjLG1CQUNuQ0UsRUFBY0wsU0FBU00saUJBQWlCLGlCQUN4Q0MsRUFBZ0JQLFNBQVNRLGVBQWUsZUFDeENDLEVBQWtCVCxTQUFTRyxjQUFjLDJCQUN6Q08sRUFBaUJWLFNBQVNHLGNBQWMscUJBQ3hDUSxFQUFhWCxTQUFTQyx1QkFBdUIsVUFDN0NXLEVBQWNaLFNBQVNHLGNBQWMsaUJBQ3JDVSxFQUFjYixTQUFTRyxjQUFjLGlCQUNyQ1csRUFBY2QsU0FBU0csY0FBYyxpQkFDckNZLEVBQVdmLFNBQVNHLGNBQWMsY0FJdENDLEVBQVVZLFFBQVUsS0FDbEJkLEVBQVFlLFVBQVVDLE9BQU8sVUFDekJiLEVBQVljLFNBQVNDLEdBQVNBLEVBQUtILFVBQVVDLE9BQU8sYUFNdERYLEVBQWNTLFFBQVUsS0FDdEJQLEVBQWdCUSxVQUFVQyxPQUFPLFdBTW5DUixFQUFlVyxpQkFBaUIsVURxQ1JDLElBQ3hCLElBQ0lyQyxFQXRFRyxDQUNMTyxLQW9FZ0I4QixFQUFFQyxPQUFPQyxTQUFTaEMsS0FBS2lDLE1BbkV2Q0MsS0FIUyxJQVFRLENBQUN6QyxJQUNwQixJQUFJMEMsRUFBY2pELElBQ2xCaUQsRUFBWUMsS0FBSzNDLEdBQ2pCTCxhQUFhZSxRQUFRLFlBQWFiLEtBQUtZLFVBQVVpQyxLQTZEakRFLENBQWE1QyxHQUNiVyxFQUFZWCxNQ3BDTzZDLE1BQU1DLEtBQUtwQixHQUNqQlEsU0FBU2EsSUFDcEIsSUFBSUMsRUFBUUQsRUFBT0UsUUFBUSxXQUMzQkYsRUFBT2hCLFFBQVUsS0FDZmlCLEVBQU1oQixVQUFVQyxPQUFPLGNBTzNCaUIsT0FBT2QsaUJBQWlCLFNBQVVDLElBQ2xCQSxFQUFFQyxPQUFPYSxVQUFVQyxNQUFNLEtBQ2hCQyxNQUFNQyxHQUF5QixTQUFaQSxLQUUzQlQsTUFBTUMsS0FBS2hDLEdBQ2pCb0IsU0FBU3FCLElBQ2RBLEVBQVF2QixVQUFVd0IsSUFBSSxnQkFRVi9ELElBQ05XLEtBQUtDLElBQ2YsSUFBSW9ELEVBQVUxQyxTQUFTMkMsY0FBYyxNQUNyQ0QsRUFBUUUsVUFBWXRELEVBQVFFLEtBQzVCa0QsRUFBUXpCLFVBQVV3QixJQUFJLGFBQ3RCN0IsRUFBWWlDLFlBQVlILE1BS1AsTUFDbkIsSUFBSUksRUFBVzlDLFNBQVNDLHVCQUF1QixhQUMzQjZCLE1BQU1DLEtBQUtlLEdBQ2pCM0IsU0FBUzRCLElBQ3JCQSxFQUFTMUIsaUJBQWlCLFNBQVEsS0FDaEMsSUFBSS9CLEVEbkRVLENBQUN3QixHQUNEcEMsSUFDWXNFLE1BQU1DLEdBQWlCQSxFQUFjekQsTUFBUXNCLElDaUR6RG9DLENBQVlILEVBQVNJLGFBRW5DdkQsRUFBWU4sR0FDWjhELEVBQWdCOUQsR0FDaEIrRCxFQUFVL0QsR0FDVnVCLEVBQVlJLFVBQVVxQyxPQUFPLGdCQUtqQyxJQUFJRixFQUFtQjlELElBQ3JCd0IsRUFBWThCLFVBQVl0RCxFQUFRRSxNQUk5QjZELEVBQWEvRCxJQUNmLElBQUlpRSxFQ3ZFZSxDQUFDakUsSUFDdEIsSUFBSWtFLEVBQVksR0F5QmhCLE9BeEJZbEUsRUFBUW9DLEtBRWRQLFNBQVNPLElBQ2IsSUFBSStCLEVBQVUsb0JBQ0QvQixFQUFLZ0MsUUFBVSxXQUFhaEMsRUFBS2lDLHlCQUN0Q2pDLEVBQUtrQyx5QkFDTGxDLEVBQUttQyx1QkFDTG5DLEVBQUtpQywyRUFJTGpDLEVBQUtnQyxRQUNELCtDQUNBLGdUQVFkRixFQUFVNUIsS0FBSzZCLE1BR1JELEdENkNXTSxDQUFleEUsR0FDM0JpRSxJQUNGeEMsRUFBUzZCLFVBQVlXLEVBQVVsRSxLQUFLMEUsR0FBYUEsSUFBVUMsS0FBSyxPQXZCakQsR0V0RXJCLE1BQU0sRUFBY2hFLFNBQVNHLGNBQWMsaUJBQ3JDLEVBQWNILFNBQVNHLGNBQWMsaUJBQ3JDOEQsRUFBbUJqRSxTQUFTRyxjQUFjLDRCQUMxQytELEVBQWtCbEUsU0FBU0csY0FBYyxzQkFDekNnRSxFQUFpQm5FLFNBQVNHLGNBQWMsaUJBQ3hDaUUsRUFBZ0JwRSxTQUFTRyxjQUFjLG1CQUN2Q2tFLEVBQWVyRSxTQUFTRyxjQUFjLHdCQUN0QyxFQUFpQkgsU0FBU0csY0FBYyxrQkFDeENtRSxFQUFhdEUsU0FBU0csY0FBYyxhQUtkLEdBRFJ6QixJQUNGNkYsUUFDZCxFQUFZdEQsVUFBVXdCLElBQUksVUFLVCxNQUNuQixJQUFJK0IsRUFBaUIzRSxJQUNqQjJFLElBQ0YsRUFBWTVCLFVBQVk0QixFQUFlaEYsS0FDdkMsRUFBWXlCLFVBQVVxQyxPQUFPLFlBSlosR0FVbkJhLEVBQWVuRCxRQUFVLEtBQ3ZCaUQsRUFBaUJoRCxVQUFVQyxPQUFPLFdBTXBDZ0QsRUFBZ0I3QyxpQkFBaUIsVUh1Q1ZDLElBQ3ZCLElBQUlwQyxFQUFhVyxJQUNiWixFQUFhWSxJQUNqQlosRUFBV08sS0FBTzhCLEVBQUVDLE9BQU9DLFNBQVNoQyxLQUFLaUMsTUFDekM3QixFQUFZWCxHQUNaRCxFQUFxQkMsRUFBWUMsTUd2Q2pDa0YsRUFBYy9DLGlCQUFpQixTSDJDUCxLQUV4QixJQURtQm9ELFFBQVEsd0JBQ1IsT0FFbkIsSUFBSXZGLEVBQWFXLElBQ2JaLEVBQWFZLElBQ2pCakIsYUFBYThGLFdBQVcsa0JBQ3hCMUYsRUFBcUJDLEVBQVlDLEdBQ2pDeUYsU0FBU0MsWUc5Q1ROLEVBQVd0RCxRQUFVLEtBQ25CcUQsRUFBYXBELFVBQVVDLE9BQU8sV0FNaEMsRUFBZUcsaUJBQWlCLFVBQVVDLElBQ3hDLElBQUl1RCxFRDlDVyxDQUFDdkQsSUFDbEIsSUFBSXdELEVBQVd4RCxFQUFFQyxPQUFPQyxTQU94QixNQWpCTyxDQUNMb0MsTUFVVWtCLEVBQVNsQixNQUFNbkMsTUFUekJvQyxJQVVRaUIsRUFBU2pCLElBQUlwQyxNQVRyQmtDLFNBVWFtQixFQUFTbkIsU0FBU2xDLE1BVC9CaUMsU0FVWSxJQ3lDRXFCLENBQVd6RCxHQUNyQnBDLEVBQWFXLElBQ2JaLEVBQWFZLElBQ2pCWixFQUFXeUMsS0FBS0UsS0FBS2lELEdBQ3JCakYsRUFBWVgsR0FDWkQsRUFBcUJDLEVBQVlDLE8iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFByb2plY3QgZmFjdG9yeVxuY29uc3QgUHJvamVjdCA9IChuYW1lKSA9PiB7XG4gIGxldCB0b2RvID0gW11cbiAgcmV0dXJuIHtcbiAgICBuYW1lLFxuICAgIHRvZG9cbiAgfVxufVxuXG4vLyBTdG9yZSBuZXcgcHJvamVjdFxuY29uc3Qgc3RvcmVQcm9qZWN0ID0gKG5ld1Byb2plY3QpID0+IHtcbiAgbGV0IGFsbFByb2plY3RzID0gZ2V0QWxsUHJvamVjdHMoKVxuICBhbGxQcm9qZWN0cy5wdXNoKG5ld1Byb2plY3QpXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibXlQcm9qZWN0XCIsIEpTT04uc3RyaW5naWZ5KGFsbFByb2plY3RzKSlcbn1cblxuLy8gR2V0IHN0b3JlZCBwcm9qZWN0c1xuY29uc3QgZ2V0QWxsUHJvamVjdHMgPSAoKSA9PiB7XG4gIGxldCBwcm9qZWN0TFMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIm15UHJvamVjdFwiKVxuICBpZihwcm9qZWN0TFMpIHtcbiAgICBsZXQgYWxsUHJvamVjdHMgPSBKU09OLnBhcnNlKHByb2plY3RMUylcbiAgICByZXR1cm4gYWxsUHJvamVjdHNcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW11cbiAgfVxufVxuXG4vLyBGaW5kIGEgcHJvamVjdFxuY29uc3QgZmluZFByb2plY3QgPSAocHJvamVjdE5hbWUpID0+IHtcbiAgbGV0IGFsbFByb2plY3RzID0gZ2V0QWxsUHJvamVjdHMoKVxuICBsZXQgdGhhdFByb2plY3QgPSBhbGxQcm9qZWN0cy5maW5kKCBzdG9yZWRQcm9qZWN0ID0+IHN0b3JlZFByb2plY3QubmFtZSA9PSBwcm9qZWN0TmFtZSlcbiAgcmV0dXJuIHRoYXRQcm9qZWN0XG59XG5cbi8vIFVwZGF0ZSBwcm9qZWN0IHN0b3JhZ2VcbmNvbnN0IHVwZGF0ZVByb2plY3RTdG9yYWdlID0gKG5ld1Byb2plY3QsIG9sZFByb2plY3QpID0+IHtcbiAgbGV0IHByb2plY3RTdG9yYWdlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIm15UHJvamVjdFwiKSlcbiAgbGV0IHRlbXBTdG9yYWdlXG5cbiAgcHJvamVjdFN0b3JhZ2UubWFwKChwcm9qZWN0LCBpbmRleCkgPT4ge1xuICAgIGlmIChwcm9qZWN0Lm5hbWUgPT0gb2xkUHJvamVjdC5uYW1lICYmIG5ld1Byb2plY3QgPT0gb2xkUHJvamVjdCkge1xuICAgICAgLy8gRGVsZXRlXG4gICAgICBwcm9qZWN0U3RvcmFnZS5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICB0ZW1wU3RvcmFnZSA9IEpTT04uc3RyaW5naWZ5KHByb2plY3RTdG9yYWdlKVxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJteVByb2plY3RcIiwgdGVtcFN0b3JhZ2UpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEFkZFxuICAgICAgcHJvamVjdFN0b3JhZ2Uuc3BsaWNlKGluZGV4LCAxLCBuZXdQcm9qZWN0KVxuICAgICAgdGVtcFN0b3JhZ2UgPSBKU09OLnN0cmluZ2lmeShwcm9qZWN0U3RvcmFnZSlcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibXlQcm9qZWN0XCIsIHRlbXBTdG9yYWdlKVxuICAgIH0gXG4gIH0pXG59XG5cbi8vIFN5bmNocm9uaXplIGN1cnJlbnQgcHJvamVjdFxuY29uc3Qgc3luY1Byb2plY3QgPSAocHJvamVjdCkgPT4ge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnRQcm9qZWN0XCIsSlNPTi5zdHJpbmdpZnkocHJvamVjdCkpXG59XG5cbi8vIEdldCBjdXJyZW50IHByb2plY3RcbmNvbnN0IGdldEN1cnJlbnRQcm9qZWN0ID0gKCkgPT4ge1xuICBsZXQgY3VycmVudFByb2plY3RMUyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3VycmVudFByb2plY3RcIilcbiAgaWYgKGN1cnJlbnRQcm9qZWN0TFMpIHtcbiAgICBsZXQgY3VycmVudFByb2plY3QgPSBKU09OLnBhcnNlKGN1cnJlbnRQcm9qZWN0TFMpXG4gICAgcmV0dXJuIGN1cnJlbnRQcm9qZWN0XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG4vLyBDcmVhdGUgbmV3IHByb2plY3RcbmNvbnN0IGNyZWF0ZU5ld1Byb2plY3QgPSAoZSkgPT4ge1xuICBsZXQgcHJvamVjdE5hbWUgPSBlLnRhcmdldC5lbGVtZW50cy5uYW1lLnZhbHVlXG4gIGxldCBuZXdQcm9qZWN0ID0gUHJvamVjdChwcm9qZWN0TmFtZSlcbiAgc3RvcmVQcm9qZWN0KG5ld1Byb2plY3QpICBcbiAgc3luY1Byb2plY3QobmV3UHJvamVjdClcbn1cblxuLy8gRWRpdCBwcm9qZWN0IG5hbWVcbmNvbnN0IGVkaXRUaGlzUHJvamVjdCA9IChlKSA9PiB7XG4gIGxldCBvbGRQcm9qZWN0ID0gZ2V0Q3VycmVudFByb2plY3QoKVxuICBsZXQgbmV3UHJvamVjdCA9IGdldEN1cnJlbnRQcm9qZWN0KClcbiAgbmV3UHJvamVjdC5uYW1lID0gZS50YXJnZXQuZWxlbWVudHMubmFtZS52YWx1ZVxuICBzeW5jUHJvamVjdChuZXdQcm9qZWN0KVxuICB1cGRhdGVQcm9qZWN0U3RvcmFnZShuZXdQcm9qZWN0LCBvbGRQcm9qZWN0KVxufVxuXG4vLyBEZWxldGUgcHJvamVjdFxuY29uc3QgZGVsZXRlVGhpc1Byb2plY3QgPSAoKSA9PiB7XG4gIGxldCBjb25maXJtYXRpb24gPSBjb25maXJtKFwiRGVsZXRlIHRoaXMgcHJvamVjdD9cIilcbiAgaWYgKCFjb25maXJtYXRpb24pIHJldHVyblxuXG4gIGxldCBvbGRQcm9qZWN0ID0gZ2V0Q3VycmVudFByb2plY3QoKVxuICBsZXQgbmV3UHJvamVjdCA9IGdldEN1cnJlbnRQcm9qZWN0KClcbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjdXJyZW50UHJvamVjdFwiKVxuICB1cGRhdGVQcm9qZWN0U3RvcmFnZShuZXdQcm9qZWN0LCBvbGRQcm9qZWN0KVxuICBsb2NhdGlvbi5yZWxvYWQoKVxufVxuXG4vLyBVcGRhdGUgcHJvamVjdCBjdXJyZW50UHJvamVjdC51cGRhdGUgdGhpcy5uYW1lXG5cblxuZXhwb3J0IHtcbiAgUHJvamVjdCxcbiAgc3RvcmVQcm9qZWN0LFxuICBnZXRBbGxQcm9qZWN0cyxcbiAgZmluZFByb2plY3QsXG4gIHN5bmNQcm9qZWN0LFxuICBnZXRDdXJyZW50UHJvamVjdCxcbiAgY3JlYXRlTmV3UHJvamVjdCxcbiAgZWRpdFRoaXNQcm9qZWN0LFxuICBkZWxldGVUaGlzUHJvamVjdCxcbiAgdXBkYXRlUHJvamVjdFN0b3JhZ2Vcbn1cblxuIiwiaW1wb3J0IHtQcm9qZWN0LCBzdG9yZVByb2plY3QsIGdldEFsbFByb2plY3RzLCBcbiAgICAgICAgZmluZFByb2plY3QsIHN5bmNQcm9qZWN0LCBjcmVhdGVOZXdQcm9qZWN0fSBmcm9tIFwiLi9wcm9qZWN0XCJcbmltcG9ydCB7Z2V0VG9kb0NvbnRlbnR9IGZyb20gXCIuL3RvZG9cIlxuXG5jb25zdCBtb2RhbFNlY3Rpb25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1vZGFsXCIpXG5jb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0XCIpXG5jb25zdCB0b2dnbGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZ2dsZS1wcm9qZWN0XCIpXG5jb25zdCB0b2dnbGVJY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG9nZ2xlLWljb25zXCIpXG5jb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtcHJvamVjdFwiKVxuY29uc3QgbmV3UHJvamVjdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctcHJvamVjdC1mb3JtLW1vZGFsXCIpICBcbmNvbnN0IG5ld1Byb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctcHJvamVjdC1mb3JtXCIpXG5jb25zdCBjYW5jZWxCdG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNhbmNlbFwiKVxuY29uc3QgcHJvamVjdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbGlzdFwiKVxuY29uc3QgcHJvamVjdEJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtYm9keVwiKVxuY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbmFtZVwiKVxuY29uc3QgdG9kb0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZG8tbGlzdFwiKVxuXG4vLyBTaG93IG9yIGhpZGUgc2lkZWJhclxubGV0IGNhblRvZ2dsZVNpZGVCYXIgPSAoKCkgPT4ge1xuICB0b2dnbGVCdG4ub25jbGljayA9ICgpID0+IHtcbiAgICBzaWRlYmFyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIilcbiAgICB0b2dnbGVJY29ucy5mb3JFYWNoKChpY29uKSA9PiBpY29uLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIikpXG4gIH1cbn0pKClcblxuLy8gT3BlbiBuZXcgcHJvamVjdCBmb3JtXG5sZXQgY2FuVHJpZ2dlck5ld1Byb2plY3RGb3JtID0gKCgpID0+IHtcbiAgYWRkUHJvamVjdEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgIG5ld1Byb2plY3RNb2RhbC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gIH1cbn0pKClcblxuLy8gQ3JlYXRlIHByb2plY3RcbmxldCBjYW5DcmVhdGVQcm9qZWN0ID0gKCgpID0+IHtcbiAgbmV3UHJvamVjdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBjcmVhdGVOZXdQcm9qZWN0KVxufSkoKVxuXG4vLyBDYW5jZWwgZm9ybVxubGV0IGNhbkNhbmNlbEZvcm0gPSAoKCkgPT4ge1xuICBsZXQgYnV0dG9uc0FycmF5ID0gQXJyYXkuZnJvbShjYW5jZWxCdG5zKVxuICBidXR0b25zQXJyYXkuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgbGV0IG1vZGFsID0gYnV0dG9uLmNsb3Nlc3QoXCJzZWN0aW9uXCIpXG4gICAgYnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICBtb2RhbC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gICAgfVxuICB9KVxufSkoKVxuXG4vLyBDYW5jZWwgZm9ybSBieSBjbGlja2luZyBvdXRzaWRlXG5sZXQgY2FuQ2xpY2tPdXRzaWRlID0gKCgpID0+IHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGxldCBjbGFzc2VzID0gZS50YXJnZXQuY2xhc3NOYW1lLnNwbGl0KFwiIFwiKVxuICAgIGxldCBoYXNNb2RhbCA9IGNsYXNzZXMuc29tZSgob25lY2xhc3MpID0+IG9uZWNsYXNzID09IFwibW9kYWxcIilcbiAgICBpZiAoaGFzTW9kYWwpIHtcbiAgICAgIGxldCBtb2RhbHMgPSBBcnJheS5mcm9tKG1vZGFsU2VjdGlvbnMpXG4gICAgICBtb2RhbHMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIilcbiAgICAgIH0gKVxuICAgIH1cbiAgfSkgIFxufSkoKVxuXG4vLyBTaG93IHByb2plY3RzXG5sZXQgY2FuU2hvd1Byb2plY3QgPSAoKCkgPT4ge1xuICBsZXQgYWxsUHJvamVjdHMgPSBnZXRBbGxQcm9qZWN0cygpXG4gIGFsbFByb2plY3RzLm1hcCgocHJvamVjdCkgPT4ge1xuICAgIGxldCBuZXdMaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpXG4gICAgbmV3TGluZS5pbm5lckhUTUwgPSBwcm9qZWN0Lm5hbWVcbiAgICBuZXdMaW5lLmNsYXNzTGlzdC5hZGQoXCJsaXN0LWl0ZW1cIilcbiAgICBwcm9qZWN0TGlzdC5hcHBlbmRDaGlsZChuZXdMaW5lKVxuICB9KVxufSkoKVxuXG4vLyBTaG93IHRvZG9cbmxldCBjYW5TaG93Q29udGVudCA9ICgoKSA9PiB7XG4gIGxldCBwcm9qZWN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJsaXN0LWl0ZW1cIilcbiAgbGV0IHByb2plY3RzQXJyYXkgPSBBcnJheS5mcm9tKHByb2plY3RzKVxuICBwcm9qZWN0c0FycmF5LmZvckVhY2goKGxpc3RJdGVtKSA9PiB7ICAgIFxuICAgIGxpc3RJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCgpID0+IHtcbiAgICAgIGxldCBwcm9qZWN0ID0gZmluZFByb2plY3QobGlzdEl0ZW0udGV4dENvbnRlbnQpXG4gICAgICAvLyBTeW5jaHJvbml6ZSBjdXJyZW50IHByb2plY3RcbiAgICAgIHN5bmNQcm9qZWN0KHByb2plY3QpXG4gICAgICBzaG93UHJvamVjdE5hbWUocHJvamVjdClcbiAgICAgIHNob3dUb2Rvcyhwcm9qZWN0KVxuICAgICAgcHJvamVjdEJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKSAgXG4gICAgfSlcbiAgfSlcblxuICAvLyBVcGRhdGUgcHJvamVjdCBuYW1lXG4gIGxldCBzaG93UHJvamVjdE5hbWUgPSAocHJvamVjdCkgPT4ge1xuICAgIHByb2plY3ROYW1lLmlubmVySFRNTCA9IHByb2plY3QubmFtZVxuICB9XG5cbiAgLy8gVXBkYXRlIHRvZG8gbGlzdCBcbiAgbGV0IHNob3dUb2RvcyA9IChwcm9qZWN0KSA9PiB7XG4gICAgbGV0IHRvZG9JdGVtcyA9IGdldFRvZG9Db250ZW50KHByb2plY3QpXG4gICAgaWYgKHRvZG9JdGVtcykge1xuICAgICAgdG9kb0xpc3QuaW5uZXJIVE1MID0gdG9kb0l0ZW1zLm1hcCgodGFibGVSb3cpID0+IHRhYmxlUm93KS5qb2luKFwiXCIpXG4gICAgfVxuICB9XG59KSgpXG5cbiIsIi8vIFRvZG8gZmFjdG9yeVxuY29uc3QgVG9kbyA9ICh0aXRsZSwgZHVlLCBwcmlvcml0eSwgY2hlY2tlZCkgPT4ge1xuXG4gIHJldHVybiB7XG4gICAgdGl0bGUsXG4gICAgZHVlLFxuICAgIHByaW9yaXR5LFxuICAgIGNoZWNrZWRcbiAgfVxufVxuXG4vLyBDcmVhdGUgbmV3IHRvZG9cbmNvbnN0IGNyZWF0ZVRvZG8gPSAoZSkgPT4ge1xuICBsZXQgZm9ybURhdGEgPSBlLnRhcmdldC5lbGVtZW50c1xuICBsZXQgdGl0bGUgPSBmb3JtRGF0YS50aXRsZS52YWx1ZVxuICBsZXQgZHVlID0gZm9ybURhdGEuZHVlLnZhbHVlXG4gIGxldCBwcmlvcml0eSA9IGZvcm1EYXRhLnByaW9yaXR5LnZhbHVlXG4gIGxldCBjaGVja2VkID0gZmFsc2VcbiAgbGV0IG5ld1RvZG8gPSBUb2RvKHRpdGxlLCBkdWUsIHByaW9yaXR5LCBjaGVja2VkKVxuXG4gIHJldHVybiBuZXdUb2RvXG59XG5cbi8vIEdldCB0b2RvIGNvbnRlbnRcbmNvbnN0IGdldFRvZG9Db250ZW50ID0gKHByb2plY3QpID0+IHtcbiAgbGV0IHRhYmxlUm93cyA9IFtdXG4gIGxldCBhcnJheSA9IHByb2plY3QudG9kb1xuXG4gIGFycmF5LmZvckVhY2goKHRvZG8pID0+IHtcbiAgICBsZXQgcm93SHRtbCA9IGBcbiAgICA8dHIgY2xhc3M9JyR7dG9kby5jaGVja2VkID8gJ2NvbXBsZXRlJyA6IHRvZG8ucHJpb3JpdHl9Jz5cbiAgICAgIDx0ZD4ke3RvZG8udGl0bGV9PC90ZD5cbiAgICAgIDx0ZD4ke3RvZG8uZHVlfTwvdGQ+XG4gICAgICA8dGQ+JHt0b2RvLnByaW9yaXR5fTwvdGQ+XG4gICAgICA8dGQ+XG4gICAgICAgIDxidXR0b24gY2xhc3M9J3Byb2dyZXNzJz5cbiAgICAgICAgICAke1xuICAgICAgICAgICAgdG9kby5jaGVja2VkXG4gICAgICAgICAgICAgID8gXCI8c3BhbiBjbGFzcz0nbWF0ZXJpYWwtaWNvbnMnPnRhc2tfYWx0PC9zcGFuPlwiXG4gICAgICAgICAgICAgIDogXCI8c3BhbiBjbGFzcz0nbWF0ZXJpYWwtaWNvbnMnPnJlbW92ZV9jaXJjbGVfb3V0bGluZTwvc3Bhbj5cIlxuICAgICAgICAgIH1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L3RkPlxuICAgICAgPHRkPjxidXR0b24gY2xhc3M9J2VkaXQtdG9kbyc+PHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPnpvb21faW48L3NwYW4+PC9idXR0b24+PC90ZD5cbiAgICAgIDx0ZD48YnV0dG9uIGNsYXNzPSdkZWxldGUtdG9kbyc+PHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmRlbGV0ZV9mb3JldmVyPC9zcGFuPjwvYnV0dG9uPjwvdGQ+XG4gICAgPC90cj5gXG5cbiAgdGFibGVSb3dzLnB1c2gocm93SHRtbClcbiAgfSlcblxuICByZXR1cm4gdGFibGVSb3dzXG59XG5cbmV4cG9ydCB7XG4gIFRvZG8sXG4gIGNyZWF0ZVRvZG8sXG4gIGdldFRvZG9Db250ZW50XG59IiwiaW1wb3J0IHtnZXRBbGxQcm9qZWN0cywgZ2V0Q3VycmVudFByb2plY3QsIGVkaXRUaGlzUHJvamVjdCwgXG4gICAgICAgIGRlbGV0ZVRoaXNQcm9qZWN0LCBzeW5jUHJvamVjdCwgdXBkYXRlUHJvamVjdFN0b3JhZ2V9IGZyb20gXCIuL3Byb2plY3RcIlxuaW1wb3J0IHtjcmVhdGVUb2RvfSBmcm9tIFwiLi90b2RvXCJcblxuY29uc3QgcHJvamVjdEJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtYm9keVwiKVxuY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbmFtZVwiKVxuY29uc3QgZWRpdFByb2plY3RNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1wcm9qZWN0LWZvcm0tbW9kYWxcIilcbmNvbnN0IGVkaXRQcm9qZWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1wcm9qZWN0LWZvcm1cIilcbmNvbnN0IGVkaXRQcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0LXByb2plY3RcIilcbmNvbnN0IGRlbFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRlbGV0ZS1wcm9qZWN0XCIpXG5jb25zdCBuZXdUb2RvTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy10b2RvLWZvcm0tbW9kYWxcIilcbmNvbnN0IG5ld1Byb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctdG9kby1mb3JtXCIpXG5jb25zdCBuZXdUb2RvQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctdG9kb1wiKVxuXG4vLyBIaWRlIGJvZHkgd2hlbiBubyBwcm9qZWN0c1xuY29uc3QgYXV0b0hpZGVCb2R5ID0gKCgpID0+IHtcbiAgbGV0IGFsbFByb2plY3RzID0gZ2V0QWxsUHJvamVjdHMoKVxuICBpZiAoYWxsUHJvamVjdHMubGVuZ3RoID09IDApIHtcbiAgICBwcm9qZWN0Qm9keS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpXG4gIH1cbn0pKClcblxuLy8gU2hvdyBsYXN0IGNoZWNrZWQgcHJvamVjdFxuY29uc3QgYXV0b1Nob3dCb2R5ID0gKCgpID0+IHtcbiAgbGV0IGN1cnJlbnRQcm9qZWN0ID0gZ2V0Q3VycmVudFByb2plY3QoKVxuICBpZiAoY3VycmVudFByb2plY3QpIHtcbiAgICBwcm9qZWN0TmFtZS5pbm5lckhUTUwgPSBjdXJyZW50UHJvamVjdC5uYW1lXG4gICAgcHJvamVjdEJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKVxuICB9IFxufSkoKVxuXG4vLyBPcGVuIGVkaXQgcHJvamVjdCBmb3JtXG5jb25zdCBjYW5UcmlnZ2VyRWRpdFByb2plY3RGb3JtID0gKCgpID0+e1xuICBlZGl0UHJvamVjdEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgIGVkaXRQcm9qZWN0TW9kYWwuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKVxuICB9XG59KSgpXG5cbi8vIEVkaXQgcHJvamVjdFxuY29uc3QgY2FuRWRpdFByb2plY3QgPSAoKCkgPT4ge1xuICBlZGl0UHJvamVjdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBlZGl0VGhpc1Byb2plY3QpXG59KSgpXG5cbi8vIERlbGV0ZSBwcm9qZWN0XG5jb25zdCBjYW5EZWxldGVQcm9qZWN0ID0gKCgpID0+IHtcbiAgZGVsUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZGVsZXRlVGhpc1Byb2plY3QpXG59KSgpXG5cbi8vIE9wZW4gbmV3IHRvZG8gZm9ybVxuY29uc3QgY2FuVHJpZ2dlck5ld1RvZG9Gb3JtID0gKCgpID0+IHtcbiAgbmV3VG9kb0J0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgIG5ld1RvZG9Nb2RhbC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gIH1cbn0pKClcblxuLy8gQ3JlYXRlIG5ldyB0b2RvXG5jb25zdCBjYW5DcmVhdGVUb2RvID0gKCgpID0+IHtcbiAgbmV3UHJvamVjdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLChlKSA9PiB7XG4gICAgbGV0IG5ld1RvZG8gPSBjcmVhdGVUb2RvKGUpXG4gICAgbGV0IG9sZFByb2plY3QgPSBnZXRDdXJyZW50UHJvamVjdCgpXG4gICAgbGV0IG5ld1Byb2plY3QgPSBnZXRDdXJyZW50UHJvamVjdCgpXG4gICAgbmV3UHJvamVjdC50b2RvLnB1c2gobmV3VG9kbylcbiAgICBzeW5jUHJvamVjdChuZXdQcm9qZWN0KVxuICAgIHVwZGF0ZVByb2plY3RTdG9yYWdlKG5ld1Byb2plY3QsIG9sZFByb2plY3QpXG4gIH0pXG59KSgpXG4iXSwic291cmNlUm9vdCI6IiJ9